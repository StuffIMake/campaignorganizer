import{a4 as T,a6 as P,aE as x}from"./index-BpNjiOl-.js";import{r as i}from"./react-vendor-3Ywg6HeR.js";let g=!1,p=0;function G(){g=!0,setTimeout(()=>{g=!1},50)}function b(f){f.pointerType==="touch"&&G()}function L(){if(!(typeof document>"u"))return typeof PointerEvent<"u"&&document.addEventListener("pointerup",b),p++,()=>{p--,!(p>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",b)}}function C(f){let{onHoverStart:u,onHoverChange:o,onHoverEnd:s,isDisabled:n}=f,[m,$]=i.useState(!1),e=i.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;i.useEffect(L,[]);let{addGlobalListener:c,removeAllGlobalListeners:E}=T(),{hoverProps:H,triggerHoverEnd:h}=i.useMemo(()=>{let y=(t,r)=>{if(e.pointerType=r,n||r==="touch"||e.isHovered||!t.currentTarget.contains(t.target))return;e.isHovered=!0;let a=t.currentTarget;e.target=a,c(P(t.target),"pointerover",v=>{e.isHovered&&e.target&&!x(e.target,v.target)&&d(v,v.pointerType)},{capture:!0}),u&&u({type:"hoverstart",target:a,pointerType:r}),o&&o(!0),$(!0)},d=(t,r)=>{let a=e.target;e.pointerType="",e.target=null,!(r==="touch"||!e.isHovered||!a)&&(e.isHovered=!1,E(),s&&s({type:"hoverend",target:a,pointerType:r}),o&&o(!1),$(!1))},l={};return typeof PointerEvent<"u"&&(l.onPointerEnter=t=>{g&&t.pointerType==="mouse"||y(t,t.pointerType)},l.onPointerLeave=t=>{!n&&t.currentTarget.contains(t.target)&&d(t,t.pointerType)}),{hoverProps:l,triggerHoverEnd:d}},[u,o,s,n,e,c,E]);return i.useEffect(()=>{n&&h({currentTarget:e.target},e.pointerType)},[n]),{hoverProps:H,isHovered:m}}export{C as $};
//# sourceMappingURL=useHover-DdTbeILI.js.map
