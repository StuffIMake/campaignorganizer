import{j as e,w as ne,l as A,P as ie,x as re,T as D,y as Ve,I as w,H as We,c as q,z as H,E as B,b as K,n as k,O as xe,U as qe,q as Q,s as He,M as Ue,k as C,G as le,J as Ge,K as Be,D as pe,f as he,h as ue,V as U,W as G,F as oe,m as ge,X as P,t as Ke,A as Qe,Y as de,S as Re,R as _e,v as Je}from"./index-BpNjiOl-.js";import{r as p}from"./react-vendor-3Ywg6HeR.js";import{I as S,S as ce}from"./Select-C5zUTDie.js";import{M as Xe}from"./MarkdownContent-Cf8ndYjS.js";import{A as Ye}from"./AssetViewerDialog-DGcyaWPW.js";import"./map-vendor-Bbrwb_BN.js";import"./utilities-BiTQLgRB.js";import"./useHover-DdTbeILI.js";import"./PDFViewer-5B0ZY-ou.js";const me=({character:s,locations:m,onEdit:h,onDelete:l,onViewAsset:d,onAddItem:u,onEditItem:g,onDeleteItem:c,gridView:n=!1,isExpanded:v=!1,onToggleInventory:t=()=>{}})=>{var z;const i=s.portraitImage&&s.portraitImage.trim().length>0,N=s.description&&s.description.trim().length>0,j=s.inventory&&s.inventory.length>0,x=s.locationId&&s.locationId.trim().length>0,r=x?m.find(y=>y.id===s.locationId):null,f=()=>{switch(s.type){case"merchant":return e.jsx(Ue,{});case"enemy":return e.jsx(He,{});case"player":return e.jsx(Q,{});default:return e.jsx(Q,{})}},o=y=>y.charAt(0).toUpperCase()+y.slice(1),I=N?s.description.length>100?`${s.description.substring(0,100)}...`:s.description:"",T=((z=s.inventory)==null?void 0:z.length)||0,O=()=>{switch(s.type){case"player":return"from-primary-light to-primary-dark";case"npc":return"from-secondary-light to-secondary-dark";case"merchant":return"from-accent-light to-accent-dark";case"enemy":return"from-rose-400 to-rose-600";default:return"from-primary-light to-primary-dark"}};return n?e.jsxs(ne,{className:"relative shadow-lg hover-lift transition-all duration-300 overflow-hidden h-full rounded-xl","data-testid":`character-card-${s.id}`,style:{backgroundImage:i?`url(${s.portraitImage})`:"none",backgroundSize:"cover",backgroundPosition:"center"},children:[e.jsx("div",{className:`absolute top-0 left-0 right-0 h-1.5 bg-gradient-to-r ${O()}`}),e.jsxs("div",{className:`relative h-full flex flex-col ${i?"text-white":""}`,style:{background:i?"linear-gradient(to bottom, rgba(0,0,0,0.2) 0%, rgba(10,10,20,0.85) 70%)":"none"},children:[x&&r&&e.jsx("div",{className:"absolute top-3 left-3 z-10",children:e.jsx(A,{icon:e.jsx(ie,{}),label:r.name,size:"small",className:"glass-effect-strong backdrop-blur-sm text-xs py-1 rounded-full"})}),e.jsxs(re,{className:"px-5 pt-5 pb-2 flex-grow flex flex-col",children:[e.jsxs("div",{className:"flex items-center cursor-pointer mb-2 z-10","data-testid":`character-view-button-${s.id}`,onClick:()=>d(s),style:{marginTop:x&&r?"2rem":"0"},children:[!i&&f(),e.jsx(D,{variant:"h6",className:`font-display font-semibold line-clamp-1 ${i?"text-white":"text-text-primary"} ml-2`,children:s.name})]}),e.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[e.jsx(A,{label:o(s.type),size:"small",className:`text-xs rounded-full ${i?"bg-black/30 text-white":"bg-background-surface/70 text-text-secondary"}`}),e.jsx(A,{label:`HP: ${s.hp}`,size:"small",color:"error",className:"text-xs rounded-full"}),s.level&&e.jsx(A,{label:`Lvl ${s.level}`,size:"small",className:`text-xs rounded-full ${i?"bg-black/30 text-white":"bg-background-surface/70 text-text-secondary"}`})]}),N&&e.jsx(D,{variant:"body2",className:`mb-3 line-clamp-2 ${i?"text-gray-200":"text-text-secondary"}`,children:I}),e.jsx("div",{className:"mt-auto",children:j&&e.jsxs("div",{className:`text-xs font-semibold flex items-center mt-2 ${i?"text-white/70":"text-text-secondary"}`,children:[e.jsx(A,{label:T.toString(),size:"small",color:"primary",className:"h-5 min-w-5 rounded-full mr-2"}),e.jsx("span",{children:"Items in inventory"})]})})]}),e.jsxs(Ve,{className:`flex justify-between px-3 py-2 ${i?"bg-black/40":"bg-background-surface/30"}`,children:[e.jsx("div",{children:e.jsx(w,{size:"small","data-testid":"character-view-button",onClick:()=>d(s),className:i?"text-white/70 hover:text-white":"text-text-secondary hover:text-primary-light",children:e.jsx(We,{})})}),e.jsxs("div",{className:"flex",children:[e.jsx(w,{size:"small","data-testid":"character-edit-button",onClick:()=>h(s),className:i?"text-white/70 hover:text-white":"text-text-secondary hover:text-secondary-light",children:e.jsx(q,{})}),e.jsx(w,{size:"small","data-testid":"character-delete-button",onClick:y=>{y.stopPropagation(),l(s.id)},className:i?"text-white/70 hover:text-red-400":"text-text-secondary hover:text-error-DEFAULT",children:e.jsx(H,{})}),j&&e.jsx(w,{size:"small",onClick:y=>{y.stopPropagation(),t(s.id)},className:i?"text-white hover:text-primary-light":"text-text-secondary hover:text-primary-light","data-testid":"character-inventory-button",children:v?e.jsx(B,{}):e.jsx(K,{})})]})]})]})]}):e.jsx("div",{className:"mb-3","data-testid":`character-item-${s.id}`,children:e.jsxs(ne,{className:"shadow-md hover:shadow-lg transition-all duration-300 rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1.5 bg-gradient-to-b ${O()}`}),e.jsx(re,{className:"p-3 pl-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex flex-grow items-center",children:[e.jsxs("div",{onClick:()=>d(s),className:"flex items-center cursor-pointer mr-3",children:[i?e.jsx("div",{className:"w-10 h-10 rounded-md mr-3 bg-cover bg-center border border-primary/30",style:{backgroundImage:`url(${s.portraitImage})`}}):e.jsx("div",{className:"mr-3 text-xl",style:{color:`var(--tw-color-${s.type==="enemy"?"error":"primary"})`},children:f()}),e.jsxs("div",{children:[e.jsx(D,{variant:"h6",className:"font-display font-semibold",children:s.name}),x&&r&&e.jsxs("div",{className:"flex items-center text-xs text-text-secondary",children:[e.jsx(ie,{className:"w-3.5 h-3.5 mr-1"}),e.jsx("span",{children:r.name})]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-1.5 ml-auto",children:[e.jsx(A,{label:o(s.type),size:"small",className:"text-xs rounded-full bg-background-surface/70 text-text-secondary"}),e.jsx(A,{label:`HP: ${s.hp}`,size:"small",color:"error",className:"text-xs rounded-full"}),s.level&&e.jsx(A,{label:`Lvl ${s.level}`,size:"small",className:"text-xs rounded-full bg-background-surface/70 text-text-secondary"})]})]}),e.jsxs("div",{className:"flex items-center ml-2",children:[e.jsx(w,{size:"small",onClick:()=>h(s),className:"text-text-secondary hover:text-secondary-light mx-1",children:e.jsx(q,{})}),e.jsx(w,{size:"small",onClick:y=>{y.stopPropagation(),l(s.id)},className:"text-text-secondary hover:text-error-DEFAULT mx-1",children:e.jsx(H,{})}),j&&e.jsx(w,{size:"small",onClick:y=>{y.stopPropagation(),t(s.id)},className:"text-text-secondary hover:text-primary-light ml-1",children:v?e.jsx(B,{}):e.jsx(K,{})})]})]})})]}),v&&j&&e.jsxs("div",{className:"mt-4 border-t border-gray-200 dark:border-gray-700 pt-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsxs(D,{variant:"subtitle1",className:"font-semibold",children:["Inventory (",T,")"]}),e.jsx(k,{variant:"text",color:"primary",size:"small",startIcon:e.jsx(xe,{}),onPress:()=>u(s.id),children:"Add"})]}),s.inventory&&s.inventory.length>0?e.jsx(qe,{className:"max-h-60 overflow-y-auto scrollbar-thin",children:s.inventory.map(y=>e.jsx("div",{className:"border-b last:border-b-0 dark:border-slate-700 py-1 px-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex-grow",children:[e.jsx(D,{variant:"body2",className:"font-medium",children:y.name}),y.description&&e.jsx(D,{variant:"caption",className:"text-slate-500 dark:text-slate-400",children:y.description})]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(w,{size:"small",onClick:()=>g(s.id,y.id),children:e.jsx(q,{className:"w-4 h-4"})}),e.jsx(w,{size:"small",onClick:()=>c(s.id,y.id),children:e.jsx(H,{className:"w-4 h-4"})})]})]})},y.id))}):e.jsx(D,{variant:"body2",className:"text-slate-500 dark:text-slate-400 italic",children:"No items in inventory"})]})]})})},Ze=({searchQuery:s,onSearchChange:m})=>e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"bg-background-surface/60 backdrop-blur-sm rounded-xl shadow-md p-1",children:e.jsx(C,{fullWidth:!0,placeholder:"Search characters by name, type, location, or items...",value:s,onChange:h=>m(h),"aria-label":"Search characters",InputProps:{startAdornment:e.jsx(le,{position:"start",children:e.jsx(Be,{className:"text-text-secondary"})}),endAdornment:s&&e.jsx(le,{position:"end",children:e.jsx(w,{onClick:()=>m(""),size:"small","aria-label":"Clear search",className:"text-text-secondary hover:text-primary-light",children:e.jsx(Ge,{})})})}})})}),es=({open:s,onClose:m,title:h,formData:l,onChange:d,onSubmit:u,locations:g,imageAssets:c})=>{const n=p.useMemo(()=>{const t=[e.jsx(S,{children:"None"},"")];for(const i of c)t.push(e.jsx(S,{children:i},i));return t},[c]),v=()=>{u()};return e.jsxs(pe,{open:s,onClose:m,maxWidth:"md",fullWidth:!0,children:[e.jsx(he,{className:"border-b border-gray-700 pb-3",children:h}),e.jsx(ue,{className:"p-0",children:e.jsxs("div",{className:"flex flex-col md:flex-row h-full",children:[e.jsxs("div",{className:"md:w-1/3 p-6 bg-gray-800 border-r border-gray-700",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-sm uppercase tracking-wider text-gray-400 mb-3",children:"Name"}),e.jsx(C,{fullWidth:!0,value:l.name,onChange:t=>d("name",t),isRequired:!0,className:"mb-4"}),e.jsxs(U,{fullWidth:!0,className:"mb-4",children:[e.jsx(G,{children:"Type"}),e.jsxs(ce,{selectedKey:l.type,onSelectionChange:t=>d("type",t),children:[e.jsx(S,{children:"Player"},"player"),e.jsx(S,{children:"NPC"},"npc"),e.jsx(S,{children:"Monster"},"monster")]})]}),e.jsx("h3",{className:"text-sm uppercase tracking-wider text-gray-400 mb-3",children:"HP"}),e.jsx(C,{fullWidth:!0,value:String(l.hp),onChange:t=>d("hp",parseInt(t)||0)})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm uppercase tracking-wider text-gray-400 mb-3",children:"Location"}),e.jsx(oe,{options:g,getOptionLabel:t=>(t==null?void 0:t.name)||"",value:g.find(t=>t.id===l.locationId)||null,onChange:(t,i)=>{d("locationId",(i==null?void 0:i.id)||"")},isOptionEqualToValue:(t,i)=>(t==null?void 0:t.id)===(i==null?void 0:i.id),renderInput:t=>e.jsx(C,{...t,placeholder:"Select a location",fullWidth:!0})})]})]}),e.jsxs("div",{className:"md:w-2/3 p-6",children:[e.jsx("h3",{className:"text-sm uppercase tracking-wider text-gray-400 mb-3",children:"Description"}),e.jsxs(U,{fullWidth:!0,className:"mb-4",children:[e.jsx(G,{children:"Content Type"}),e.jsxs(ce,{selectedKey:l.descriptionType,onSelectionChange:t=>d("descriptionType",t),children:[e.jsx(S,{children:"Markdown"},"markdown"),e.jsx(S,{children:"Image"},"image"),e.jsx(S,{children:"PDF"},"pdf")]})]}),l.descriptionType==="markdown"?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"flex flex-col",children:e.jsx(C,{fullWidth:!0,multiline:!0,rows:12,value:l.description,onChange:t=>d("description",t),className:"h-full"})}),e.jsxs("div",{className:"border border-gray-700 rounded-md bg-gray-850 p-4 overflow-auto",children:[e.jsx("h3",{className:"text-sm font-medium mb-4 text-gray-400 border-b border-gray-700 pb-2",children:"Preview"}),e.jsx("div",{className:"prose prose-invert max-w-none",children:e.jsx(Xe,{content:l.description||"Preview will appear here"})})]})]}):e.jsxs(U,{fullWidth:!0,children:[e.jsx(G,{children:l.descriptionType==="image"?"Image Asset":"PDF Asset"}),e.jsx(oe,{options:n.map(t=>t.key),getOptionLabel:t=>{const i=n.find(N=>N.key===t);return i?String(i.key):""},value:l.descriptionAssetName||null,onChange:(t,i)=>{d("descriptionAssetName",i||"")},isOptionEqualToValue:(t,i)=>t===i,renderInput:t=>e.jsx(C,{...t,placeholder:"Select an asset",fullWidth:!0})})]})]})]})}),e.jsxs(ge,{className:"border-t border-gray-700 p-4",children:[e.jsx(k,{onPress:m,variant:"outlined",children:"Cancel"}),e.jsx(k,{onPress:v,isDisabled:!l.name,variant:"contained",children:"Save"})]})]})},ss=({open:s,onClose:m,title:h,item:l,onChange:d,onSubmit:u})=>{const g=c=>{c.preventDefault(),u()};return e.jsx(pe,{open:s,onClose:m,maxWidth:"sm",fullWidth:!0,children:e.jsxs("form",{onSubmit:g,children:[e.jsx(he,{children:h}),e.jsx(ue,{children:e.jsxs(P,{container:!0,spacing:2,className:"mt-2",children:[e.jsx(P,{item:!0,xs:12,children:e.jsx(C,{autoFocus:!0,name:"name",label:"Name",fullWidth:!0,required:!0,value:l.name,onChange:c=>d("name",c),"aria-label":"Item name"})}),e.jsx(P,{item:!0,xs:12,children:e.jsx(C,{name:"description",label:"Description",fullWidth:!0,value:l.description,onChange:c=>d("description",c),"aria-label":"Item description",InputProps:{inputProps:{style:{minHeight:"80px"}}}})}),e.jsx(P,{item:!0,xs:12,sm:6,children:e.jsx(C,{name:"quantity",label:"Quantity",type:"number",fullWidth:!0,value:l.quantity,onChange:c=>d("quantity",c),"aria-label":"Item quantity"})}),e.jsx(P,{item:!0,xs:12,sm:6,children:e.jsx(C,{label:"Price (optional)",type:"number",fullWidth:!0,value:l.price===void 0?"":l.price,onChange:c=>d("price",c===""?void 0:c)})})]})}),e.jsxs(ge,{children:[e.jsx(k,{onPress:m,children:"Cancel"}),e.jsx(k,{type:"submit",variant:"contained",color:"primary",children:"Save"})]})]})})},ts=()=>{const[s,m]=p.useState(""),[h,l]=p.useState([]),{characters:d,locations:u,addCharacter:g,updateCharacter:c,deleteCharacter:n,saveDataToIndexedDB:v}=Ke(),t=p.useMemo(()=>{if(!s.trim())return d;const j=s.toLowerCase().split(" ").filter(x=>x.length>0);return d.filter(x=>{var f;const r=[x.name.toLowerCase(),x.description.toLowerCase(),x.type.toLowerCase(),`hp:${x.hp}`,x.locationId&&((f=u.find(o=>o.id===x.locationId))==null?void 0:f.name.toLowerCase())||""];return x.inventory&&x.inventory.length>0&&x.inventory.forEach(o=>{r.push(o.name.toLowerCase()),o.description&&r.push(o.description.toLowerCase())}),j.some(o=>r.some(I=>I.includes(o)))})},[d,s,u]);return{characters:d,filteredCharacters:t,locations:u,imageAssets:h,searchQuery:s,setSearchQuery:m,loadImageAssets:async()=>{try{const j=await Qe.getAssets("images");l(j.map(x=>x.name))}catch(j){console.error("Error loading image assets:",j)}},addCharacter:g,updateCharacter:c,deleteCharacter:n,saveData:async()=>{try{return await v(),{success:!0,message:"Data saved successfully"}}catch(j){return console.error("Error saving data:",j),{success:!1,message:"Error saving data"}}}}},as=(s,m)=>{const[h,l]=p.useState(!1),[d,u]=p.useState(!1),[g,c]=p.useState(null),[n,v]=p.useState({name:"",description:"",type:"npc",locationId:"",descriptionType:"markdown",descriptionAssetName:"",hp:10,inventory:[]}),t=()=>{v({name:"",description:"",type:"npc",locationId:"",descriptionType:"markdown",descriptionAssetName:"",hp:10,inventory:[]})};return{formData:n,handleChange:(r,f)=>{v(o=>({...o,[r]:f}))},isAddDialogOpen:h,setIsAddDialogOpen:l,isEditDialogOpen:d,setIsEditDialogOpen:u,editingCharacterId:g,handleAddCharacter:()=>{const r={name:n.name,description:n.description,type:n.type,hp:typeof n.hp=="string"?parseInt(n.hp)||1:n.hp||1,inventory:n.inventory};n.locationId&&(r.locationId=n.locationId),r.descriptionType=n.descriptionType,n.descriptionAssetName&&(r.descriptionAssetName=n.descriptionAssetName),s(r),l(!1),t()},handleEditCharacter:r=>{c(r.id),v({name:r.name,description:r.description,type:r.type,locationId:r.locationId||"",descriptionType:r.descriptionType||"markdown",descriptionAssetName:r.descriptionAssetName||"",hp:r.hp!==void 0?r.hp:1,inventory:r.inventory||[]}),u(!0)},handleSaveCharacter:()=>{if(g){const r={name:n.name,description:n.description,type:n.type,hp:typeof n.hp=="string"?parseInt(n.hp)||1:n.hp||1,inventory:n.inventory};n.locationId?r.locationId=n.locationId:r.locationId=void 0,r.descriptionType=n.descriptionType,n.descriptionAssetName?r.descriptionAssetName=n.descriptionAssetName:r.descriptionAssetName=void 0,m(g,r),u(!1),c(null),t()}},resetForm:t}},ns=(s=[],m)=>{const[h,l]=p.useState(!1),[d,u]=p.useState(!1),[g,c]=p.useState(null),[n,v]=p.useState({id:de(),name:"",description:"",quantity:1,price:void 0}),t=()=>{v({id:de(),name:"",description:"",quantity:1,price:void 0})};return{newItem:n,handleItemChange:(f,o)=>{v(I=>({...I,[f]:f==="quantity"&&typeof o=="string"?parseInt(o)||0:f==="price"&&typeof o=="string"?parseFloat(o)||void 0:o}))},isAddItemDialogOpen:h,setIsAddItemDialogOpen:l,isEditItemDialogOpen:d,setIsEditItemDialogOpen:u,editingItemId:g,handleAddItem:()=>{const f=[...s,n];m(f),l(!1),t()},handleEditItemClick:f=>{const o=s.find(I=>I.id===f);o&&(v({...o}),c(f),u(!0))},handleSaveEditedItem:()=>{if(g){const f=s.map(o=>o.id===g?n:o);m(f),u(!1),c(null),t()}},handleDeleteItem:f=>{const o=s.filter(I=>I.id!==f);m(o)},resetItemForm:t}},is=()=>{const[s,m]=p.useState(!1),[h,l]=p.useState(""),[d,u]=p.useState(!1),[g,c]=p.useState(""),[n,v]=p.useState("");return{pdfViewerOpen:s,currentPdfAsset:h,markdownDialogOpen:d,currentMarkdownContent:g,currentMarkdownTitle:n,viewPdf:j=>{l(j),m(!0)},viewMarkdown:(j,x)=>{c(j),v(x),u(!0)},closeAssetViewer:()=>{m(!1),u(!1)}}},rs=()=>{const[s,m]=p.useState(!1),[h,l]=p.useState("");return{snackbarOpen:s,snackbarMessage:h,showNotification:g=>{l(g),m(!0)},hideNotification:()=>{m(!1)}}},gs=()=>{const[s,m]=p.useState(!0),[h,l]=p.useState({}),[d,u]=p.useState(!1),{characters:g,filteredCharacters:c,locations:n,imageAssets:v,searchQuery:t,setSearchQuery:i,loadImageAssets:N,addCharacter:j,updateCharacter:x,deleteCharacter:r,saveData:f}=ts(),{showNotification:o,hideNotification:I,snackbarOpen:T,snackbarMessage:O}=rs(),{formData:z,handleChange:y,isAddDialogOpen:E,setIsAddDialogOpen:F,isEditDialogOpen:$,setIsEditDialogOpen:fe,handleAddCharacter:ye,handleEditCharacter:R,handleSaveCharacter:je,resetForm:ve}=as(a=>{j(a),o("Character added successfully")},(a,b)=>{x(a,b),o("Character updated successfully")}),{pdfViewerOpen:be,currentPdfAsset:Ie,markdownDialogOpen:Ne,currentMarkdownContent:we,currentMarkdownTitle:Ce,viewPdf:_,viewMarkdown:ke,closeAssetViewer:Ae}=is(),[M,L]=p.useState(null),V=M?g.find(a=>a.id===M):null,{newItem:Se,handleItemChange:De,isAddItemDialogOpen:W,setIsAddItemDialogOpen:J,isEditItemDialogOpen:Ee,setIsEditItemDialogOpen:Pe,handleAddItem:Te,handleEditItemClick:Oe,handleSaveEditedItem:ze,handleDeleteItem:Me,resetItemForm:X}=ns((V==null?void 0:V.inventory)||[],a=>{M&&x(M,{inventory:a})});p.useEffect(()=>{(E||$)&&N()},[E,$,N]);const Fe=a=>{i(a),u(a.length>0)},Y=a=>{if(window.confirm("Are you sure you want to delete this character? This action cannot be undone.")&&(r(a),o("Character deleted successfully"),h[a])){const b={...h};delete b[a],l(b)}},$e=async()=>{const a=await f();o(a.message)},Z=a=>{a.descriptionType==="pdf"&&a.descriptionAssetName||a.descriptionType==="image"&&a.descriptionAssetName?_(a.descriptionAssetName):ke(a.description,a.name)},ee=a=>{L(a),X(),J(!0)},se=(a,b)=>{L(a),Oe(b)},te=(a,b)=>{L(a),Me(b),o("Item deleted successfully")},ae=a=>{l(b=>({...b,[a]:!b[a]}))},Le=(a,b)=>{y(a,b)};return e.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-screen-2xl",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:[e.jsx("h1",{className:"text-3xl font-display font-bold bg-gradient-to-r from-primary-light to-secondary-light bg-clip-text text-transparent",children:"Characters"}),e.jsxs("div",{className:"flex gap-2 mt-3 md:mt-0",children:[e.jsx(k,{startIcon:e.jsx(xe,{}),variant:"contained",color:"primary",onPress:()=>F(!0),className:"btn-glow",children:"Add Character"}),e.jsx(k,{startIcon:e.jsx(Re,{}),variant:"outlined",onPress:$e,children:"Save Data"})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-4",children:[e.jsx("div",{className:"flex-grow w-full md:w-auto shadow-md rounded-xl",children:e.jsx(Ze,{searchQuery:t,onSearchChange:Fe})}),e.jsx("div",{className:"flex items-center",children:e.jsx(k,{startIcon:s?e.jsx(K,{}):e.jsx(B,{}),variant:"contained",color:"secondary",onPress:()=>m(!s),className:"shadow-md rounded-xl",children:s?"List View":"Grid View"})})]}),e.jsx("div",{className:"mb-6",children:c.length>0?s?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:c.map(a=>e.jsx(me,{character:a,locations:n,onEdit:R,onDelete:Y,onViewAsset:Z,onAddItem:ee,onEditItem:se,onDeleteItem:te,gridView:!0,isExpanded:h[a.id],onToggleInventory:ae},a.id))}):e.jsx("div",{className:"space-y-4 shadow-md rounded-xl bg-background-surface/30 p-4",children:c.map(a=>e.jsx(me,{character:a,locations:n,onEdit:R,onDelete:Y,onViewAsset:Z,onAddItem:ee,onEditItem:se,onDeleteItem:te,gridView:!1,isExpanded:h[a.id],onToggleInventory:ae},a.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-background-surface flex items-center justify-center",children:e.jsx(Q,{className:"text-4xl text-text-secondary"})}),e.jsx("p",{className:"text-text-secondary text-lg mb-6",children:"No characters found. Create your first character to get started."}),e.jsx(k,{variant:"contained",color:"primary",onPress:()=>F(!0),className:"btn-glow",children:"Create Character"})]})}),e.jsx(es,{open:E||$,onClose:()=>{F(!1),fe(!1),ve()},title:E?"Add New Character":"Edit Character",formData:z,onChange:Le,onSubmit:E?ye:je,locations:n,imageAssets:v}),e.jsx(ss,{open:W||Ee,onClose:()=>{J(!1),Pe(!1),X()},title:W?"Add New Item":"Edit Item",item:Se,onChange:De,onSubmit:W?Te:ze}),e.jsx(Ye,{pdfViewerOpen:be,markdownDialogOpen:Ne,currentPdfAsset:Ie,currentMarkdownContent:we,currentMarkdownTitle:Ce,onClose:Ae}),e.jsx(_e,{open:T,autoHideDuration:6e3,onClose:I,message:O,action:e.jsx(w,{size:"small","aria-label":"close",onClick:I,children:e.jsx(Je,{})})})]})};export{gs as CharactersView};
//# sourceMappingURL=CharactersView-CsjbovlP.js.map
