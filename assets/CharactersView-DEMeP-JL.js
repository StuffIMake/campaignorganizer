import{j as e,w as ie,l as D,P as re,x as le,T as E,y as Le,I as N,H as Ve,c as q,z as H,E as B,b as Q,n as k,O as me,U as We,q as R,s as qe,M as He,k as S,G as oe,J as Ue,K as Ge,D as xe,f as pe,h as he,V as I,W as U,X as G,F as Ke,m as ue,t as Be,A as Qe,Y as de,S as Re,R as Je,v as Xe}from"./index-C-zTHRzx.js";import{r as p}from"./react-vendor-3Ywg6HeR.js";import{I as C,S as K}from"./Select-DWiMgGh3.js";import{A as Ye}from"./AssetViewerDialog-CU17L3GW.js";import"./map-vendor-Bbrwb_BN.js";import"./utilities-BiTQLgRB.js";import"./useHover-CHyh5gg8.js";import"./MarkdownContent-DLpEGSYA.js";import"./PDFViewer-CJxpvW3B.js";const ce=({character:s,locations:m,onEdit:u,onDelete:r,onViewAsset:d,onAddItem:g,onEditItem:h,onDeleteItem:c,gridView:a=!1,isExpanded:y=!1,onToggleInventory:t=()=>{}})=>{var O;const l=s.portraitImage&&s.portraitImage.trim().length>0,A=s.description&&s.description.trim().length>0,v=s.inventory&&s.inventory.length>0,x=s.locationId&&s.locationId.trim().length>0,i=x?m.find(j=>j.id===s.locationId):null,f=()=>{switch(s.type){case"merchant":return e.jsx(He,{});case"enemy":return e.jsx(qe,{});case"player":return e.jsx(R,{});default:return e.jsx(R,{})}},o=j=>j.charAt(0).toUpperCase()+j.slice(1),w=A?s.description.length>100?`${s.description.substring(0,100)}...`:s.description:"",P=((O=s.inventory)==null?void 0:O.length)||0,z=()=>{switch(s.type){case"player":return"from-primary-light to-primary-dark";case"npc":return"from-secondary-light to-secondary-dark";case"merchant":return"from-accent-light to-accent-dark";case"enemy":return"from-rose-400 to-rose-600";default:return"from-primary-light to-primary-dark"}};return a?e.jsxs(ie,{className:"relative shadow-lg hover-lift transition-all duration-300 overflow-hidden h-full rounded-xl","data-testid":`character-card-${s.id}`,style:{backgroundImage:l?`url(${s.portraitImage})`:"none",backgroundSize:"cover",backgroundPosition:"center"},children:[e.jsx("div",{className:`absolute top-0 left-0 right-0 h-1.5 bg-gradient-to-r ${z()}`}),e.jsxs("div",{className:`relative h-full flex flex-col ${l?"text-white":""}`,style:{background:l?"linear-gradient(to bottom, rgba(0,0,0,0.2) 0%, rgba(10,10,20,0.85) 70%)":"none"},children:[x&&i&&e.jsx("div",{className:"absolute top-3 left-3 z-10",children:e.jsx(D,{icon:e.jsx(re,{}),label:i.name,size:"small",className:"glass-effect-strong backdrop-blur-sm text-xs py-1 rounded-full"})}),e.jsxs(le,{className:"px-5 pt-5 pb-2 flex-grow flex flex-col",children:[e.jsxs("div",{className:"flex items-center cursor-pointer mb-2 z-10","data-testid":`character-view-button-${s.id}`,onClick:()=>d(s),style:{marginTop:x&&i?"2rem":"0"},children:[!l&&f(),e.jsx(E,{variant:"h6",className:`font-display font-semibold line-clamp-1 ${l?"text-white":"text-text-primary"} ml-2`,children:s.name})]}),e.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[e.jsx(D,{label:o(s.type),size:"small",className:`text-xs rounded-full ${l?"bg-black/30 text-white":"bg-background-surface/70 text-text-secondary"}`}),e.jsx(D,{label:`HP: ${s.hp}`,size:"small",color:"error",className:"text-xs rounded-full"}),s.level&&e.jsx(D,{label:`Lvl ${s.level}`,size:"small",className:`text-xs rounded-full ${l?"bg-black/30 text-white":"bg-background-surface/70 text-text-secondary"}`})]}),A&&e.jsx(E,{variant:"body2",className:`mb-3 line-clamp-2 ${l?"text-gray-200":"text-text-secondary"}`,children:w}),e.jsx("div",{className:"mt-auto",children:v&&e.jsxs("div",{className:`text-xs font-semibold flex items-center mt-2 ${l?"text-white/70":"text-text-secondary"}`,children:[e.jsx(D,{label:P.toString(),size:"small",color:"primary",className:"h-5 min-w-5 rounded-full mr-2"}),e.jsx("span",{children:"Items in inventory"})]})})]}),e.jsxs(Le,{className:`flex justify-between px-3 py-2 ${l?"bg-black/40":"bg-background-surface/30"}`,children:[e.jsx("div",{children:e.jsx(N,{size:"small","data-testid":"character-view-button",onClick:()=>d(s),className:l?"text-white/70 hover:text-white":"text-text-secondary hover:text-primary-light",children:e.jsx(Ve,{})})}),e.jsxs("div",{className:"flex",children:[e.jsx(N,{size:"small","data-testid":"character-edit-button",onClick:()=>u(s),className:l?"text-white/70 hover:text-white":"text-text-secondary hover:text-secondary-light",children:e.jsx(q,{})}),e.jsx(N,{size:"small","data-testid":"character-delete-button",onClick:j=>{j.stopPropagation(),r(s.id)},className:l?"text-white/70 hover:text-red-400":"text-text-secondary hover:text-error-DEFAULT",children:e.jsx(H,{})}),v&&e.jsx(N,{size:"small",onClick:j=>{j.stopPropagation(),t(s.id)},className:l?"text-white hover:text-primary-light":"text-text-secondary hover:text-primary-light","data-testid":"character-inventory-button",children:y?e.jsx(B,{}):e.jsx(Q,{})})]})]})]})]}):e.jsx("div",{className:"mb-3","data-testid":`character-item-${s.id}`,children:e.jsxs(ie,{className:"shadow-md hover:shadow-lg transition-all duration-300 rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1.5 bg-gradient-to-b ${z()}`}),e.jsx(le,{className:"p-3 pl-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex flex-grow items-center",children:[e.jsxs("div",{onClick:()=>d(s),className:"flex items-center cursor-pointer mr-3",children:[l?e.jsx("div",{className:"w-10 h-10 rounded-md mr-3 bg-cover bg-center border border-primary/30",style:{backgroundImage:`url(${s.portraitImage})`}}):e.jsx("div",{className:"mr-3 text-xl",style:{color:`var(--tw-color-${s.type==="enemy"?"error":"primary"})`},children:f()}),e.jsxs("div",{children:[e.jsx(E,{variant:"h6",className:"font-display font-semibold",children:s.name}),x&&i&&e.jsxs("div",{className:"flex items-center text-xs text-text-secondary",children:[e.jsx(re,{className:"w-3.5 h-3.5 mr-1"}),e.jsx("span",{children:i.name})]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-1.5 ml-auto",children:[e.jsx(D,{label:o(s.type),size:"small",className:"text-xs rounded-full bg-background-surface/70 text-text-secondary"}),e.jsx(D,{label:`HP: ${s.hp}`,size:"small",color:"error",className:"text-xs rounded-full"}),s.level&&e.jsx(D,{label:`Lvl ${s.level}`,size:"small",className:"text-xs rounded-full bg-background-surface/70 text-text-secondary"})]})]}),e.jsxs("div",{className:"flex items-center ml-2",children:[e.jsx(N,{size:"small",onClick:()=>u(s),className:"text-text-secondary hover:text-secondary-light mx-1",children:e.jsx(q,{})}),e.jsx(N,{size:"small",onClick:j=>{j.stopPropagation(),r(s.id)},className:"text-text-secondary hover:text-error-DEFAULT mx-1",children:e.jsx(H,{})}),v&&e.jsx(N,{size:"small",onClick:j=>{j.stopPropagation(),t(s.id)},className:"text-text-secondary hover:text-primary-light ml-1",children:y?e.jsx(B,{}):e.jsx(Q,{})})]})]})})]}),y&&v&&e.jsxs("div",{className:"mt-4 border-t border-gray-200 dark:border-gray-700 pt-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsxs(E,{variant:"subtitle1",className:"font-semibold",children:["Inventory (",P,")"]}),e.jsx(k,{variant:"text",color:"primary",size:"small",startIcon:e.jsx(me,{}),onPress:()=>g(s.id),children:"Add"})]}),s.inventory&&s.inventory.length>0?e.jsx(We,{className:"max-h-60 overflow-y-auto scrollbar-thin",children:s.inventory.map(j=>e.jsx("div",{className:"border-b last:border-b-0 dark:border-slate-700 py-1 px-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex-grow",children:[e.jsx(E,{variant:"body2",className:"font-medium",children:j.name}),j.description&&e.jsx(E,{variant:"caption",className:"text-slate-500 dark:text-slate-400",children:j.description})]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(N,{size:"small",onClick:()=>h(s.id,j.id),children:e.jsx(q,{className:"w-4 h-4"})}),e.jsx(N,{size:"small",onClick:()=>c(s.id,j.id),children:e.jsx(H,{className:"w-4 h-4"})})]})]})},j.id))}):e.jsx(E,{variant:"body2",className:"text-slate-500 dark:text-slate-400 italic",children:"No items in inventory"})]})]})})},_e=({searchQuery:s,onSearchChange:m})=>e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"bg-background-surface/60 backdrop-blur-sm rounded-xl shadow-md p-1",children:e.jsx(S,{fullWidth:!0,placeholder:"Search characters by name, type, location, or items...",value:s,onChange:u=>m(u),"aria-label":"Search characters",InputProps:{startAdornment:e.jsx(oe,{position:"start",children:e.jsx(Ge,{className:"text-text-secondary"})}),endAdornment:s&&e.jsx(oe,{position:"end",children:e.jsx(N,{onClick:()=>m(""),size:"small","aria-label":"Clear search",className:"text-text-secondary hover:text-primary-light",children:e.jsx(Ue,{})})})}})})}),Ze=({open:s,onClose:m,title:u,formData:r,onChange:d,onSubmit:g,locations:h,imageAssets:c})=>{p.useMemo(()=>{const t=[e.jsx(C,{children:"None"},"")];for(const l of h)t.push(e.jsx(C,{children:l.name},l.id));return t},[h]);const a=p.useMemo(()=>{const t=[e.jsx(C,{children:"None"},"")];for(const l of c)t.push(e.jsx(C,{children:l},l));return t},[c]),y=()=>{g()};return e.jsx(xe,{open:s,onClose:m,maxWidth:"md",fullWidth:!0,children:e.jsxs("form",{onSubmit:y,children:[e.jsx(pe,{children:u}),e.jsx(he,{children:e.jsxs(I,{container:!0,spacing:2,className:"mt-2",children:[e.jsx(I,{item:!0,xs:12,children:e.jsx(S,{fullWidth:!0,label:"Name",value:r.name,onChange:t=>d("name",t),isRequired:!0})}),e.jsx(I,{item:!0,xs:12,sm:6,children:e.jsxs(U,{fullWidth:!0,children:[e.jsx(G,{children:"Type"}),e.jsxs(K,{selectedKey:r.type,label:"Type",onSelectionChange:t=>d("type",t),children:[e.jsx(C,{children:"Player"},"player"),e.jsx(C,{children:"NPC"},"npc"),e.jsx(C,{children:"Monster"},"monster")]})]})}),e.jsx(I,{item:!0,xs:12,sm:6,children:e.jsx(S,{fullWidth:!0,label:"HP",value:String(r.hp),onChange:t=>d("hp",parseInt(t)||0)})}),e.jsx(I,{item:!0,xs:12,sm:6,children:e.jsx(Ke,{options:h,getOptionLabel:t=>(t==null?void 0:t.name)||"",value:h.find(t=>t.id===r.locationId)||null,onChange:(t,l)=>{d("locationId",(l==null?void 0:l.id)||"")},isOptionEqualToValue:(t,l)=>(t==null?void 0:t.id)===(l==null?void 0:l.id),renderInput:t=>e.jsx(S,{...t,label:"Location",placeholder:"Select a location",fullWidth:!0})})}),e.jsx(I,{item:!0,xs:12,children:e.jsxs(U,{fullWidth:!0,children:[e.jsx(G,{children:"Description Type"}),e.jsxs(K,{selectedKey:r.descriptionType,label:"Description Type",onSelectionChange:t=>d("descriptionType",t),children:[e.jsx(C,{children:"Markdown"},"markdown"),e.jsx(C,{children:"Image"},"image"),e.jsx(C,{children:"PDF"},"pdf")]})]})}),r.descriptionType==="markdown"?e.jsx(I,{item:!0,xs:12,children:e.jsx(S,{label:"Description",fullWidth:!0,value:r.description,onChange:t=>d("description",t)})}):e.jsx(I,{item:!0,xs:12,children:e.jsxs(U,{fullWidth:!0,children:[e.jsx(G,{children:r.descriptionType==="image"?"Image Asset":"PDF Asset"}),e.jsx(K,{selectedKey:r.descriptionAssetName,label:r.descriptionType==="image"?"Image Asset":"PDF Asset",onSelectionChange:t=>d("descriptionAssetName",t),children:a})]})})]})}),e.jsxs(ue,{children:[e.jsx(k,{onPress:m,children:"Cancel"}),e.jsx(k,{onPress:y,isDisabled:!r.name,children:"Save"})]})]})})},es=({open:s,onClose:m,title:u,item:r,onChange:d,onSubmit:g})=>{const h=c=>{c.preventDefault(),g()};return e.jsx(xe,{open:s,onClose:m,maxWidth:"sm",fullWidth:!0,children:e.jsxs("form",{onSubmit:h,children:[e.jsx(pe,{children:u}),e.jsx(he,{children:e.jsxs(I,{container:!0,spacing:2,className:"mt-2",children:[e.jsx(I,{item:!0,xs:12,children:e.jsx(S,{autoFocus:!0,name:"name",label:"Name",fullWidth:!0,required:!0,value:r.name,onChange:c=>d("name",c),"aria-label":"Item name"})}),e.jsx(I,{item:!0,xs:12,children:e.jsx(S,{name:"description",label:"Description",fullWidth:!0,value:r.description,onChange:c=>d("description",c),"aria-label":"Item description",InputProps:{inputProps:{style:{minHeight:"80px"}}}})}),e.jsx(I,{item:!0,xs:12,sm:6,children:e.jsx(S,{name:"quantity",label:"Quantity",type:"number",fullWidth:!0,value:r.quantity,onChange:c=>d("quantity",c),"aria-label":"Item quantity"})}),e.jsx(I,{item:!0,xs:12,sm:6,children:e.jsx(S,{label:"Price (optional)",type:"number",fullWidth:!0,value:r.price===void 0?"":r.price,onChange:c=>d("price",c===""?void 0:c)})})]})}),e.jsxs(ue,{children:[e.jsx(k,{onPress:m,children:"Cancel"}),e.jsx(k,{type:"submit",variant:"contained",color:"primary",children:"Save"})]})]})})},ss=()=>{const[s,m]=p.useState(""),[u,r]=p.useState([]),{characters:d,locations:g,addCharacter:h,updateCharacter:c,deleteCharacter:a,saveDataToIndexedDB:y}=Be(),t=p.useMemo(()=>{if(!s.trim())return d;const v=s.toLowerCase().split(" ").filter(x=>x.length>0);return d.filter(x=>{var f;const i=[x.name.toLowerCase(),x.description.toLowerCase(),x.type.toLowerCase(),`hp:${x.hp}`,x.locationId&&((f=g.find(o=>o.id===x.locationId))==null?void 0:f.name.toLowerCase())||""];return x.inventory&&x.inventory.length>0&&x.inventory.forEach(o=>{i.push(o.name.toLowerCase()),o.description&&i.push(o.description.toLowerCase())}),v.some(o=>i.some(w=>w.includes(o)))})},[d,s,g]);return{characters:d,filteredCharacters:t,locations:g,imageAssets:u,searchQuery:s,setSearchQuery:m,loadImageAssets:async()=>{try{const v=await Qe.getAssets("images");r(v.map(x=>x.name))}catch(v){console.error("Error loading image assets:",v)}},addCharacter:h,updateCharacter:c,deleteCharacter:a,saveData:async()=>{try{return await y(),{success:!0,message:"Data saved successfully"}}catch(v){return console.error("Error saving data:",v),{success:!1,message:"Error saving data"}}}}},ts=(s,m)=>{const[u,r]=p.useState(!1),[d,g]=p.useState(!1),[h,c]=p.useState(null),[a,y]=p.useState({name:"",description:"",type:"npc",locationId:"",descriptionType:"markdown",descriptionAssetName:"",hp:10,inventory:[]}),t=()=>{y({name:"",description:"",type:"npc",locationId:"",descriptionType:"markdown",descriptionAssetName:"",hp:10,inventory:[]})};return{formData:a,handleChange:(i,f)=>{y(o=>({...o,[i]:f}))},isAddDialogOpen:u,setIsAddDialogOpen:r,isEditDialogOpen:d,setIsEditDialogOpen:g,editingCharacterId:h,handleAddCharacter:()=>{const i={name:a.name,description:a.description,type:a.type,hp:typeof a.hp=="string"?parseInt(a.hp)||1:a.hp||1,inventory:a.inventory};a.locationId&&(i.locationId=a.locationId),i.descriptionType=a.descriptionType,a.descriptionAssetName&&(i.descriptionAssetName=a.descriptionAssetName),s(i),r(!1),t()},handleEditCharacter:i=>{c(i.id),y({name:i.name,description:i.description,type:i.type,locationId:i.locationId||"",descriptionType:i.descriptionType||"markdown",descriptionAssetName:i.descriptionAssetName||"",hp:i.hp!==void 0?i.hp:1,inventory:i.inventory||[]}),g(!0)},handleSaveCharacter:()=>{if(h){const i={name:a.name,description:a.description,type:a.type,hp:typeof a.hp=="string"?parseInt(a.hp)||1:a.hp||1,inventory:a.inventory};a.locationId?i.locationId=a.locationId:i.locationId=void 0,i.descriptionType=a.descriptionType,a.descriptionAssetName?i.descriptionAssetName=a.descriptionAssetName:i.descriptionAssetName=void 0,m(h,i),g(!1),c(null),t()}},resetForm:t}},ns=(s=[],m)=>{const[u,r]=p.useState(!1),[d,g]=p.useState(!1),[h,c]=p.useState(null),[a,y]=p.useState({id:de(),name:"",description:"",quantity:1,price:void 0}),t=()=>{y({id:de(),name:"",description:"",quantity:1,price:void 0})};return{newItem:a,handleItemChange:(f,o)=>{y(w=>({...w,[f]:f==="quantity"&&typeof o=="string"?parseInt(o)||0:f==="price"&&typeof o=="string"?parseFloat(o)||void 0:o}))},isAddItemDialogOpen:u,setIsAddItemDialogOpen:r,isEditItemDialogOpen:d,setIsEditItemDialogOpen:g,editingItemId:h,handleAddItem:()=>{const f=[...s,a];m(f),r(!1),t()},handleEditItemClick:f=>{const o=s.find(w=>w.id===f);o&&(y({...o}),c(f),g(!0))},handleSaveEditedItem:()=>{if(h){const f=s.map(o=>o.id===h?a:o);m(f),g(!1),c(null),t()}},handleDeleteItem:f=>{const o=s.filter(w=>w.id!==f);m(o)},resetItemForm:t}},as=()=>{const[s,m]=p.useState(!1),[u,r]=p.useState(""),[d,g]=p.useState(!1),[h,c]=p.useState(""),[a,y]=p.useState("");return{pdfViewerOpen:s,currentPdfAsset:u,markdownDialogOpen:d,currentMarkdownContent:h,currentMarkdownTitle:a,viewPdf:v=>{r(v),m(!0)},viewMarkdown:(v,x)=>{c(v),y(x),g(!0)},closeAssetViewer:()=>{m(!1),g(!1)}}},is=()=>{const[s,m]=p.useState(!1),[u,r]=p.useState("");return{snackbarOpen:s,snackbarMessage:u,showNotification:h=>{r(h),m(!0)},hideNotification:()=>{m(!1)}}},us=()=>{const[s,m]=p.useState(!0),[u,r]=p.useState({}),[d,g]=p.useState(!1),{characters:h,filteredCharacters:c,locations:a,imageAssets:y,searchQuery:t,setSearchQuery:l,loadImageAssets:A,addCharacter:v,updateCharacter:x,deleteCharacter:i,saveData:f}=ss(),{showNotification:o,hideNotification:w,snackbarOpen:P,snackbarMessage:z}=is(),{formData:O,handleChange:j,isAddDialogOpen:T,setIsAddDialogOpen:M,isEditDialogOpen:$,setIsEditDialogOpen:ge,handleAddCharacter:fe,handleEditCharacter:J,handleSaveCharacter:je,resetForm:ye}=ts(n=>{v(n),o("Character added successfully")},(n,b)=>{x(n,b),o("Character updated successfully")}),{pdfViewerOpen:ve,currentPdfAsset:be,markdownDialogOpen:Ie,currentMarkdownContent:we,currentMarkdownTitle:Ne,viewPdf:X,viewMarkdown:Ce,closeAssetViewer:Ae}=as(),[F,L]=p.useState(null),V=F?h.find(n=>n.id===F):null,{newItem:ke,handleItemChange:Se,isAddItemDialogOpen:W,setIsAddItemDialogOpen:Y,isEditItemDialogOpen:De,setIsEditItemDialogOpen:Ee,handleAddItem:Te,handleEditItemClick:Pe,handleSaveEditedItem:ze,handleDeleteItem:Oe,resetItemForm:_}=ns((V==null?void 0:V.inventory)||[],n=>{F&&x(F,{inventory:n})});p.useEffect(()=>{(T||$)&&A()},[T,$,A]);const Fe=n=>{l(n),g(n.length>0)},Z=n=>{if(window.confirm("Are you sure you want to delete this character? This action cannot be undone.")&&(i(n),o("Character deleted successfully"),u[n])){const b={...u};delete b[n],r(b)}},Me=async()=>{const n=await f();o(n.message)},ee=n=>{n.descriptionType==="pdf"&&n.descriptionAssetName||n.descriptionType==="image"&&n.descriptionAssetName?X(n.descriptionAssetName):Ce(n.description,n.name)},se=n=>{L(n),_(),Y(!0)},te=(n,b)=>{L(n),Pe(b)},ne=(n,b)=>{L(n),Oe(b),o("Item deleted successfully")},ae=n=>{r(b=>({...b,[n]:!b[n]}))},$e=(n,b)=>{j(n,b)};return e.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-screen-2xl",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:[e.jsx("h1",{className:"text-3xl font-display font-bold bg-gradient-to-r from-primary-light to-secondary-light bg-clip-text text-transparent",children:"Characters"}),e.jsxs("div",{className:"flex gap-2 mt-3 md:mt-0",children:[e.jsx(k,{startIcon:e.jsx(me,{}),variant:"contained",color:"primary",onPress:()=>M(!0),className:"btn-glow",children:"Add Character"}),e.jsx(k,{startIcon:e.jsx(Re,{}),variant:"outlined",onPress:Me,children:"Save Data"})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-4",children:[e.jsx("div",{className:"flex-grow w-full md:w-auto shadow-md rounded-xl",children:e.jsx(_e,{searchQuery:t,onSearchChange:Fe})}),e.jsx("div",{className:"flex items-center",children:e.jsx(k,{startIcon:s?e.jsx(Q,{}):e.jsx(B,{}),variant:"contained",color:"secondary",onPress:()=>m(!s),className:"shadow-md rounded-xl",children:s?"List View":"Grid View"})})]}),e.jsx("div",{className:"mb-6",children:c.length>0?s?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:c.map(n=>e.jsx(ce,{character:n,locations:a,onEdit:J,onDelete:Z,onViewAsset:ee,onAddItem:se,onEditItem:te,onDeleteItem:ne,gridView:!0,isExpanded:u[n.id],onToggleInventory:ae},n.id))}):e.jsx("div",{className:"space-y-4 shadow-md rounded-xl bg-background-surface/30 p-4",children:c.map(n=>e.jsx(ce,{character:n,locations:a,onEdit:J,onDelete:Z,onViewAsset:ee,onAddItem:se,onEditItem:te,onDeleteItem:ne,gridView:!1,isExpanded:u[n.id],onToggleInventory:ae},n.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-background-surface flex items-center justify-center",children:e.jsx(R,{className:"text-4xl text-text-secondary"})}),e.jsx("p",{className:"text-text-secondary text-lg mb-6",children:"No characters found. Create your first character to get started."}),e.jsx(k,{variant:"contained",color:"primary",onPress:()=>M(!0),className:"btn-glow",children:"Create Character"})]})}),e.jsx(Ze,{open:T||$,onClose:()=>{M(!1),ge(!1),ye()},title:T?"Add New Character":"Edit Character",formData:O,onChange:$e,onSubmit:T?fe:je,locations:a,imageAssets:y}),e.jsx(es,{open:W||De,onClose:()=>{Y(!1),Ee(!1),_()},title:W?"Add New Item":"Edit Item",item:ke,onChange:Se,onSubmit:W?Te:ze}),e.jsx(Ye,{pdfViewerOpen:ve,markdownDialogOpen:Ie,currentPdfAsset:be,currentMarkdownContent:we,currentMarkdownTitle:Ne,onClose:Ae}),e.jsx(Je,{open:P,autoHideDuration:6e3,onClose:w,message:z,action:e.jsx(N,{size:"small","aria-label":"close",onClick:w,children:e.jsx(Xe,{})})})]})};export{us as CharactersView};
//# sourceMappingURL=CharactersView-DEMeP-JL.js.map
