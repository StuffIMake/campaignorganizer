import{a1 as te,a2 as Ke,a3 as rt,a4 as al,a5 as st,a6 as at,a7 as ne,a8 as q,a9 as ul,aa as cl,ab as ut,ac as ct,ad as le,ae as dl,af as dt,ag as Se,ah as Re,ai as fl,aj as pl,ak as Ee,al as hl,am as Te,an as ft,ao as Ie,ap as vl,aq as gl,ar as yl,as as bl,at as $l,au as Me,av as ml,aw as xl,j,b as Kl,ax as Sl,ay as Pl,az as wl,U as Dl}from"./index-BpNjiOl-.js";import{r as m,R as N,a as Cl}from"./react-vendor-3Ywg6HeR.js";import{$ as Fl}from"./useHover-DdTbeILI.js";function Le(i,e){const t=m.useRef(!0),l=m.useRef(null);te(()=>(t.current=!0,()=>{t.current=!1}),[]),te(()=>{t.current?t.current=!1:(!l.current||e.some((o,n)=>!Object.is(o,l[n])))&&i(),l.current=e},e)}function El(){return typeof window.ResizeObserver<"u"}function ze(i){const{ref:e,box:t,onResize:l}=i;m.useEffect(()=>{let o=e==null?void 0:e.current;if(o)if(El()){const n=new window.ResizeObserver(r=>{r.length&&l()});return n.observe(o,{box:t}),()=>{o&&n.unobserve(o)}}else return window.addEventListener("resize",l,!1),()=>{window.removeEventListener("resize",l,!1)}},[l,e,t])}function Pe(i,e){if(!i)return!1;let t=window.getComputedStyle(i),l=/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY);return l&&e&&(l=i.scrollHeight!==i.clientHeight||i.scrollWidth!==i.clientWidth),l}function Ml(i,e){const t=[];for(;i&&i!==document.documentElement;)Pe(i,e)&&t.push(i),i=i.parentElement;return t}let Al=0;const ye=new Map;function kl(i){let[e,t]=m.useState();return te(()=>{if(!i)return;let l=ye.get(i);if(l)t(l.element.id);else{let o=`react-aria-description-${Al++}`;t(o);let n=document.createElement("div");n.id=o,n.style.display="none",n.textContent=i,document.body.appendChild(n),l={refCount:0,element:n},ye.set(i,l)}return l.refCount++,()=>{l&&--l.refCount===0&&(l.element.remove(),ye.delete(i))}},[i]),{"aria-describedby":i?e:void 0}}function se(i,e,t,l){let o=Ke(t),n=t==null;m.useEffect(()=>{if(n||!i.current)return;let r=i.current;return r.addEventListener(e,o,l),()=>{r.removeEventListener(e,o,l)}},[i,e,l,n,o])}function pt(i,e){let t=Oe(i,e,"left"),l=Oe(i,e,"top"),o=e.offsetWidth,n=e.offsetHeight,r=i.scrollLeft,s=i.scrollTop,{borderTopWidth:a,borderLeftWidth:c,scrollPaddingTop:p,scrollPaddingRight:f,scrollPaddingBottom:v,scrollPaddingLeft:d}=getComputedStyle(i),y=r+parseInt(c,10),S=s+parseInt(a,10),b=y+i.clientWidth,g=S+i.clientHeight,$=parseInt(p,10)||0,K=parseInt(v,10)||0,F=parseInt(f,10)||0,C=parseInt(d,10)||0;t<=r+C?r=t-parseInt(c,10)-C:t+o>b-F&&(r+=t+o-b+F),l<=S+$?s=l-parseInt(a,10)-$:l+n>g-K&&(s+=l+n-g+K),i.scrollLeft=r,i.scrollTop=s}function Oe(i,e,t){const l=t==="left"?"offsetLeft":"offsetTop";let o=0;for(;e.offsetParent&&(o+=e[l],e.offsetParent!==i);){if(e.offsetParent.contains(i)){o-=i[l];break}e=e.offsetParent}return o}function He(i,e){if(i&&document.contains(i)){let r=document.scrollingElement||document.documentElement;if(window.getComputedStyle(r).overflow==="hidden"){let a=Ml(i);for(let c of a)pt(c,i)}else{var t;let{left:a,top:c}=i.getBoundingClientRect();i==null||(t=i.scrollIntoView)===null||t===void 0||t.call(i,{block:"nearest"});let{left:p,top:f}=i.getBoundingClientRect();if(Math.abs(a-p)>1||Math.abs(c-f)>1){var l,o,n;e==null||(o=e.containingElement)===null||o===void 0||(l=o.scrollIntoView)===null||l===void 0||l.call(o,{block:"center",inline:"center"}),(n=i.scrollIntoView)===null||n===void 0||n.call(i,{block:"nearest"})}}}}const Bl="react-aria-clear-focus",Rl="react-aria-focus";function _(i){return rt()?i.metaKey:i.ctrlKey}function we(i,e=-1/0,t=1/0){return Math.min(Math.max(i,e),t)}const Tl=500;function ht(i){let{isDisabled:e,onLongPressStart:t,onLongPressEnd:l,onLongPress:o,threshold:n=Tl,accessibilityDescription:r}=i;const s=m.useRef(void 0);let{addGlobalListener:a,removeGlobalListener:c}=al(),{pressProps:p}=st({isDisabled:e,onPressStart(v){if(v.continuePropagation(),(v.pointerType==="mouse"||v.pointerType==="touch")&&(t&&t({...v,type:"longpressstart"}),s.current=setTimeout(()=>{v.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),at(v.target).activeElement!==v.target&&ne(v.target),o&&o({...v,type:"longpress"}),s.current=void 0},n),v.pointerType==="touch")){let d=y=>{y.preventDefault()};a(v.target,"contextmenu",d,{once:!0}),a(window,"pointerup",()=>{setTimeout(()=>{c(v.target,"contextmenu",d)},30)},{once:!0})}},onPressEnd(v){s.current&&clearTimeout(s.current),l&&(v.pointerType==="mouse"||v.pointerType==="touch")&&l({...v,type:"longpressend"})}}),f=kl(o&&!e?r:void 0);return{longPressProps:q(p,f)}}const Il=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),Ll=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function zl(i){if(Intl.Locale){let t=new Intl.Locale(i).maximize(),l=typeof t.getTextInfo=="function"?t.getTextInfo():t.textInfo;if(l)return l.direction==="rtl";if(t.script)return Il.has(t.script)}let e=i.split("-")[0];return Ll.has(e)}const Ol=Symbol.for("react-aria.i18n.locale");function vt(){let i=typeof window<"u"&&window[Ol]||typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([i])}catch{i="en-US"}return{locale:i,direction:zl(i)?"rtl":"ltr"}}let De=vt(),oe=new Set;function je(){De=vt();for(let i of oe)i(De)}function Hl(){let i=ul(),[e,t]=m.useState(De);return m.useEffect(()=>(oe.size===0&&window.addEventListener("languagechange",je),oe.add(t),()=>{oe.delete(t),oe.size===0&&window.removeEventListener("languagechange",je)}),[]),i?{locale:"en-US",direction:"ltr"}:e}const jl=N.createContext(null);function de(){let i=Hl();return m.useContext(jl)||i}const Nl=Symbol.for("react-aria.i18n.locale"),Ul=Symbol.for("react-aria.i18n.strings");let Q;class fe{getStringForLocale(e,t){let o=this.getStringsForLocale(t)[e];if(!o)throw new Error(`Could not find intl message ${e} in ${t} locale`);return o}getStringsForLocale(e){let t=this.strings[e];return t||(t=Wl(e,this.strings,this.defaultLocale),this.strings[e]=t),t}static getGlobalDictionaryForPackage(e){if(typeof window>"u")return null;let t=window[Nl];if(Q===void 0){let o=window[Ul];if(!o)return null;Q={};for(let n in o)Q[n]=new fe({[t]:o[n]},t)}let l=Q==null?void 0:Q[e];if(!l)throw new Error(`Strings for package "${e}" were not included by LocalizedStringProvider. Please add it to the list passed to createLocalizedStringDictionary.`);return l}constructor(e,t="en-US"){this.strings=Object.fromEntries(Object.entries(e).filter(([,l])=>l)),this.defaultLocale=t}}function Wl(i,e,t="en-US"){if(e[i])return e[i];let l=Vl(i);if(e[l])return e[l];for(let o in e)if(o.startsWith(l+"-"))return e[o];return e[t]}function Vl(i){return Intl.Locale?new Intl.Locale(i).language:i.split("-")[0]}const Ne=new Map,Ue=new Map;class ql{format(e,t){let l=this.strings.getStringForLocale(e,this.locale);return typeof l=="function"?l(t,this):l}plural(e,t,l="cardinal"){let o=t["="+e];if(o)return typeof o=="function"?o():o;let n=this.locale+":"+l,r=Ne.get(n);r||(r=new Intl.PluralRules(this.locale,{type:l}),Ne.set(n,r));let s=r.select(e);return o=t[s]||t.other,typeof o=="function"?o():o}number(e){let t=Ue.get(this.locale);return t||(t=new Intl.NumberFormat(this.locale),Ue.set(this.locale,t)),t.format(e)}select(e,t){let l=e[t]||e.other;return typeof l=="function"?l():l}constructor(e,t){this.locale=e,this.strings=t}}const We=new WeakMap;function Gl(i){let e=We.get(i);return e||(e=new fe(i),We.set(i,e)),e}function Yl(i,e){return e&&fe.getGlobalDictionaryForPackage(e)||Gl(i)}function Xl(i,e){let{locale:t}=de(),l=Yl(i,e);return m.useMemo(()=>new ql(t,l),[t,l])}let be=new Map;function gt(i){let{locale:e}=de(),t=e+(i?Object.entries(i).sort((o,n)=>o[0]<n[0]?-1:1).join():"");if(be.has(t))return be.get(t);let l=new Intl.Collator(e,i);return be.set(t,l),l}function yt(i){let e=Ql(at(i));e!==i&&(e&&Zl(e,i),i&&Jl(i,e))}function Zl(i,e){i.dispatchEvent(new FocusEvent("blur",{relatedTarget:e})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:e}))}function Jl(i,e){i.dispatchEvent(new FocusEvent("focus",{relatedTarget:e})),i.dispatchEvent(new FocusEvent("focusin",{bubbles:!0,relatedTarget:e}))}function Ql(i){let e=cl(i),t=e==null?void 0:e.getAttribute("aria-activedescendant");return t&&i.getElementById(t)||e}const Ve={border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"};function _l(i={}){let{style:e,isFocusable:t}=i,[l,o]=m.useState(!1),{focusWithinProps:n}=ut({isDisabled:!t,onFocusWithinChange:s=>o(s)}),r=m.useMemo(()=>l?e:e?{...Ve,...e}:Ve,[l]);return{visuallyHiddenProps:{...n,style:r}}}const Y={top:"top",bottom:"top",left:"left",right:"left"},ce={top:"bottom",bottom:"top",left:"right",right:"left"},ei={top:"left",left:"top"},Ce={top:"height",left:"width"},bt={width:"totalWidth",height:"totalHeight"},ae={};let z=typeof document<"u"?window.visualViewport:null;function qe(i){let e=0,t=0,l=0,o=0,n=0,r=0,s={};var a;let c=((a=z==null?void 0:z.scale)!==null&&a!==void 0?a:1)>1;if(i.tagName==="BODY"){let y=document.documentElement;l=y.clientWidth,o=y.clientHeight;var p;e=(p=z==null?void 0:z.width)!==null&&p!==void 0?p:l;var f;t=(f=z==null?void 0:z.height)!==null&&f!==void 0?f:o,s.top=y.scrollTop||i.scrollTop,s.left=y.scrollLeft||i.scrollLeft,z&&(n=z.offsetTop,r=z.offsetLeft)}else({width:e,height:t,top:n,left:r}=ee(i)),s.top=i.scrollTop,s.left=i.scrollLeft,l=e,o=t;if(ct()&&(i.tagName==="BODY"||i.tagName==="HTML")&&c){s.top=0,s.left=0;var v;n=(v=z==null?void 0:z.pageTop)!==null&&v!==void 0?v:0;var d;r=(d=z==null?void 0:z.pageLeft)!==null&&d!==void 0?d:0}return{width:e,height:t,totalWidth:l,totalHeight:o,scroll:s,top:n,left:r}}function ti(i){return{top:i.scrollTop,left:i.scrollLeft,width:i.scrollWidth,height:i.scrollHeight}}function Ge(i,e,t,l,o,n,r){var s;let a=(s=o.scroll[i])!==null&&s!==void 0?s:0,c=l[Ce[i]],p=l.scroll[Y[i]]+n,f=c+l.scroll[Y[i]]-n,v=e-a+r[i]-l[Y[i]],d=e-a+t+r[i]-l[Y[i]];return v<p?p-v:d>f?Math.max(f-d,p-v):0}function li(i){let e=window.getComputedStyle(i);return{top:parseInt(e.marginTop,10)||0,bottom:parseInt(e.marginBottom,10)||0,left:parseInt(e.marginLeft,10)||0,right:parseInt(e.marginRight,10)||0}}function Ye(i){if(ae[i])return ae[i];let[e,t]=i.split(" "),l=Y[e]||"right",o=ei[l];Y[t]||(t="center");let n=Ce[l],r=Ce[o];return ae[i]={placement:e,crossPlacement:t,axis:l,crossAxis:o,size:n,crossSize:r},ae[i]}function $e(i,e,t,l,o,n,r,s,a,c){let{placement:p,crossPlacement:f,axis:v,crossAxis:d,size:y,crossSize:S}=l,b={};var g;b[d]=(g=i[d])!==null&&g!==void 0?g:0;var $,K,F,C;f==="center"?b[d]+=((($=i[S])!==null&&$!==void 0?$:0)-((K=t[S])!==null&&K!==void 0?K:0))/2:f!==d&&(b[d]+=((F=i[S])!==null&&F!==void 0?F:0)-((C=t[S])!==null&&C!==void 0?C:0)),b[d]+=n;const x=i[d]-t[S]+a+c,A=i[d]+i[S]-a-c;if(b[d]=we(b[d],x,A),p===v){const w=s?r[y]:e[bt[y]];b[ce[v]]=Math.floor(w-i[v]+o)}else b[v]=Math.floor(i[v]+i[y]+o);return b}function ii(i,e,t,l,o,n,r,s){const a=l?t.height:e[bt.height];var c;let p=i.top!=null?t.top+i.top:t.top+(a-((c=i.bottom)!==null&&c!==void 0?c:0)-r);var f,v,d,y,S,b;let g=s!=="top"?Math.max(0,e.height+e.top+((f=e.scroll.top)!==null&&f!==void 0?f:0)-p-(((v=o.top)!==null&&v!==void 0?v:0)+((d=o.bottom)!==null&&d!==void 0?d:0)+n)):Math.max(0,p+r-(e.top+((y=e.scroll.top)!==null&&y!==void 0?y:0))-(((S=o.top)!==null&&S!==void 0?S:0)+((b=o.bottom)!==null&&b!==void 0?b:0)+n));return Math.min(e.height-n*2,g)}function Xe(i,e,t,l,o,n){let{placement:r,axis:s,size:a}=n;var c,p;if(r===s)return Math.max(0,t[s]-i[s]-((c=i.scroll[s])!==null&&c!==void 0?c:0)+e[s]-((p=l[s])!==null&&p!==void 0?p:0)-l[ce[s]]-o);var f;return Math.max(0,i[a]+i[s]+i.scroll[s]-e[s]-t[s]-t[a]-((f=l[s])!==null&&f!==void 0?f:0)-l[ce[s]]-o)}function oi(i,e,t,l,o,n,r,s,a,c,p,f,v,d,y,S){let b=Ye(i),{size:g,crossAxis:$,crossSize:K,placement:F,crossPlacement:C}=b,x=$e(e,s,t,b,p,f,c,v,y,S),A=p,w=Xe(s,c,e,o,n+p,b);if(r&&l[g]>w){let X=Ye(`${ce[F]} ${C}`),ie=$e(e,s,t,X,p,f,c,v,y,S);Xe(s,c,e,o,n+p,X)>w&&(b=X,x=ie,A=p)}let B="bottom";b.axis==="top"?b.placement==="top"?B="top":b.placement==="bottom"&&(B="bottom"):b.crossAxis==="top"&&(b.crossPlacement==="top"?B="bottom":b.crossPlacement==="bottom"&&(B="top"));let E=Ge($,x[$],t[K],s,a,n,c);x[$]+=E;let M=ii(x,s,c,v,o,n,t.height,B);d&&d<M&&(M=d),t.height=Math.min(t.height,M),x=$e(e,s,t,b,A,f,c,v,y,S),E=Ge($,x[$],t[K],s,a,n,c),x[$]+=E;let R={},I=e[$]+.5*e[K]-x[$]-o[Y[$]];const L=y/2+S;var U,h,P,u;const k=Y[$]==="left"?((U=o.left)!==null&&U!==void 0?U:0)+((h=o.right)!==null&&h!==void 0?h:0):((P=o.top)!==null&&P!==void 0?P:0)+((u=o.bottom)!==null&&u!==void 0?u:0),O=t[K]-k-y/2-S,H=e[$]+y/2-(x[$]+o[Y[$]]),W=e[$]+e[K]-y/2-(x[$]+o[Y[$]]),G=we(I,H,W);return R[$]=we(G,L,O),{position:x,maxHeight:M,arrowOffsetLeft:R.left,arrowOffsetTop:R.top,placement:b.placement}}function ni(i){let{placement:e,targetNode:t,overlayNode:l,scrollNode:o,padding:n,shouldFlip:r,boundaryElement:s,offset:a,crossOffset:c,maxHeight:p,arrowSize:f=0,arrowBoundaryOffset:v=0}=i,d=l instanceof HTMLElement?ri(l):document.documentElement,y=d===document.documentElement;const S=window.getComputedStyle(d).position;let b=!!S&&S!=="static",g=y?ee(t):Ze(t,d);if(!y){let{marginTop:R,marginLeft:I}=window.getComputedStyle(t);g.top+=parseInt(R,10)||0,g.left+=parseInt(I,10)||0}let $=ee(l),K=li(l);var F,C;$.width+=((F=K.left)!==null&&F!==void 0?F:0)+((C=K.right)!==null&&C!==void 0?C:0);var x,A;$.height+=((x=K.top)!==null&&x!==void 0?x:0)+((A=K.bottom)!==null&&A!==void 0?A:0);let w=ti(o),B=qe(s),E=qe(d),M=s.tagName==="BODY"?ee(d):Ze(d,s);return d.tagName==="HTML"&&s.tagName==="BODY"&&(E.scroll.top=0,E.scroll.left=0),oi(e,g,$,w,K,n,r,B,E,M,a,c,b,p,f,v)}function ee(i){let{top:e,left:t,width:l,height:o}=i.getBoundingClientRect(),{scrollTop:n,scrollLeft:r,clientTop:s,clientLeft:a}=document.documentElement;return{top:e+n-s,left:t+r-a,width:l,height:o}}function Ze(i,e){let t=window.getComputedStyle(i),l;if(t.position==="fixed"){let{top:o,left:n,width:r,height:s}=i.getBoundingClientRect();l={top:o,left:n,width:r,height:s}}else{l=ee(i);let o=ee(e),n=window.getComputedStyle(e);o.top+=(parseInt(n.borderTopWidth,10)||0)-e.scrollTop,o.left+=(parseInt(n.borderLeftWidth,10)||0)-e.scrollLeft,l.top-=o.top,l.left-=o.left}return l.top-=parseInt(t.marginTop,10)||0,l.left-=parseInt(t.marginLeft,10)||0,l}function ri(i){let e=i.offsetParent;if(e&&e===document.body&&window.getComputedStyle(e).position==="static"&&!Je(e)&&(e=document.documentElement),e==null)for(e=i.parentElement;e&&!Je(e);)e=e.parentElement;return e||document.documentElement}function Je(i){let e=window.getComputedStyle(i);return e.transform!=="none"||/transform|perspective/.test(e.willChange)||e.filter!=="none"||e.contain==="paint"||"backdropFilter"in e&&e.backdropFilter!=="none"||"WebkitBackdropFilter"in e&&e.WebkitBackdropFilter!=="none"}const $t=new WeakMap;function si(i){let{triggerRef:e,isOpen:t,onClose:l}=i;m.useEffect(()=>{if(!t||l===null)return;let o=n=>{let r=n.target;if(!e.current||r instanceof Node&&!r.contains(e.current)||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement)return;let s=l||$t.get(e.current);s&&s()};return window.addEventListener("scroll",o,!0),()=>{window.removeEventListener("scroll",o,!0)}},[t,l,e])}let T=typeof document<"u"?window.visualViewport:null;function ai(i){let{direction:e}=de(),{arrowSize:t=0,targetRef:l,overlayRef:o,scrollRef:n=o,placement:r="bottom",containerPadding:s=12,shouldFlip:a=!0,boundaryElement:c=typeof document<"u"?document.body:null,offset:p=0,crossOffset:f=0,shouldUpdatePosition:v=!0,isOpen:d=!0,onClose:y,maxHeight:S,arrowBoundaryOffset:b=0}=i,[g,$]=m.useState(null),K=[v,r,o.current,l.current,n.current,s,a,c,p,f,d,e,S,b,t],F=m.useRef(T==null?void 0:T.scale);m.useEffect(()=>{d&&(F.current=T==null?void 0:T.scale)},[d]);let C=m.useCallback(()=>{if(v===!1||!d||!o.current||!l.current||!c||(T==null?void 0:T.scale)!==F.current)return;let E=null;if(n.current&&n.current.contains(document.activeElement)){var M;let u=(M=document.activeElement)===null||M===void 0?void 0:M.getBoundingClientRect(),k=n.current.getBoundingClientRect();var R;if(E={type:"top",offset:((R=u==null?void 0:u.top)!==null&&R!==void 0?R:0)-k.top},E.offset>k.height/2){E.type="bottom";var I;E.offset=((I=u==null?void 0:u.bottom)!==null&&I!==void 0?I:0)-k.bottom}}let L=o.current;if(!S&&o.current){var U;L.style.top="0px",L.style.bottom="";var h;L.style.maxHeight=((h=(U=window.visualViewport)===null||U===void 0?void 0:U.height)!==null&&h!==void 0?h:window.innerHeight)+"px"}let P=ni({placement:ci(r,e),overlayNode:o.current,targetNode:l.current,scrollNode:n.current||o.current,padding:s,shouldFlip:a,boundaryElement:c,offset:p,crossOffset:f,maxHeight:S,arrowSize:t,arrowBoundaryOffset:b});if(P.position){if(L.style.top="",L.style.bottom="",L.style.left="",L.style.right="",Object.keys(P.position).forEach(u=>L.style[u]=P.position[u]+"px"),L.style.maxHeight=P.maxHeight!=null?P.maxHeight+"px":"",E&&document.activeElement&&n.current){let u=document.activeElement.getBoundingClientRect(),k=n.current.getBoundingClientRect(),O=u[E.type]-k[E.type];n.current.scrollTop+=O-E.offset}$(P)}},K);te(C,K),ui(C),ze({ref:o,onResize:C}),ze({ref:l,onResize:C});let x=m.useRef(!1);te(()=>{let E,M=()=>{x.current=!0,clearTimeout(E),E=setTimeout(()=>{x.current=!1},500),C()},R=()=>{x.current&&M()};return T==null||T.addEventListener("resize",M),T==null||T.addEventListener("scroll",R),()=>{T==null||T.removeEventListener("resize",M),T==null||T.removeEventListener("scroll",R)}},[C]);let A=m.useCallback(()=>{x.current||y==null||y()},[y,x]);si({triggerRef:l,isOpen:d,onClose:y&&A});var w,B;return{overlayProps:{style:{position:"absolute",zIndex:1e5,...g==null?void 0:g.position,maxHeight:(w=g==null?void 0:g.maxHeight)!==null&&w!==void 0?w:"100vh"}},placement:(B=g==null?void 0:g.placement)!==null&&B!==void 0?B:null,arrowProps:{"aria-hidden":"true",role:"presentation",style:{left:g==null?void 0:g.arrowOffsetLeft,top:g==null?void 0:g.arrowOffsetTop}},updatePosition:C}}function ui(i){te(()=>(window.addEventListener("resize",i,!1),()=>{window.removeEventListener("resize",i,!1)}),[i])}function ci(i,e){return e==="rtl"?i.replace("start","right").replace("end","left"):i.replace("start","left").replace("end","right")}function di(i,e,t){let{type:l}=i,{isOpen:o}=e;m.useEffect(()=>{t&&t.current&&$t.set(t.current,e.close)});let n;l==="menu"?n=!0:l==="listbox"&&(n="listbox");let r=le();return{triggerProps:{"aria-haspopup":n,"aria-expanded":o,"aria-controls":o?r:void 0,onPress:e.toggle},overlayProps:{id:r}}}const Ae=new WeakMap;function fi(i){return typeof i=="string"?i.replace(/\s*/g,""):""+i}function pi(i,e){let t=Ae.get(i);if(!t)throw new Error("Unknown list");return`${t.id}-option-${fi(e)}`}function Fe(i){return dl()?i.altKey:i.ctrlKey}function ue(i,e){var t,l;let o=`[data-key="${CSS.escape(String(e))}"]`,n=(t=i.current)===null||t===void 0?void 0:t.dataset.collection;return n&&(o=`[data-collection="${CSS.escape(n)}"]${o}`),(l=i.current)===null||l===void 0?void 0:l.querySelector(o)}const mt=new WeakMap;function hi(i){let e=le();return mt.set(i,e),e}function vi(i){return mt.get(i)}const gi=1e3;function xt(i){let{keyboardDelegate:e,selectionManager:t,onTypeSelect:l}=i,o=m.useRef({search:"",timeout:void 0}).current,n=r=>{let s=yi(r.key);if(!(!s||r.ctrlKey||r.metaKey||!r.currentTarget.contains(r.target))){if(s===" "&&o.search.trim().length>0&&(r.preventDefault(),"continuePropagation"in r||r.stopPropagation()),o.search+=s,e.getKeyForSearch!=null){let a=e.getKeyForSearch(o.search,t.focusedKey);a==null&&(a=e.getKeyForSearch(o.search)),a!=null&&(t.setFocusedKey(a),l&&l(a))}clearTimeout(o.timeout),o.timeout=setTimeout(()=>{o.search=""},gi)}};return{typeSelectProps:{onKeyDownCapture:e.getKeyForSearch?n:void 0}}}function yi(i){return i.length===1||!/^[A-Z]/i.test(i)?i:""}function bi(i){let{selectionManager:e,keyboardDelegate:t,ref:l,autoFocus:o=!1,shouldFocusWrap:n=!1,disallowEmptySelection:r=!1,disallowSelectAll:s=!1,escapeKeyBehavior:a="clearSelection",selectOnFocus:c=e.selectionBehavior==="replace",disallowTypeAhead:p=!1,shouldUseVirtualFocus:f,allowsTabNavigation:v=!1,isVirtualized:d,scrollRef:y=l,linkBehavior:S="action"}=i,{direction:b}=de(),g=dt(),$=h=>{var P;if(h.altKey&&h.key==="Tab"&&h.preventDefault(),!(!((P=l.current)===null||P===void 0)&&P.contains(h.target)))return;const u=(D,Z)=>{if(D!=null){if(e.isLink(D)&&S==="selection"&&c&&!Fe(h)){Cl.flushSync(()=>{e.setFocusedKey(D,Z)});let J=ue(l,D),Be=e.getItemProps(D);J&&g.open(J,h,Be.href,Be.routerOptions);return}if(e.setFocusedKey(D,Z),e.isLink(D)&&S==="override")return;h.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(D):c&&!Fe(h)&&e.replaceSelection(D)}};switch(h.key){case"ArrowDown":if(t.getKeyBelow){var k,O,H;let D=e.focusedKey!=null?(k=t.getKeyBelow)===null||k===void 0?void 0:k.call(t,e.focusedKey):(O=t.getFirstKey)===null||O===void 0?void 0:O.call(t);D==null&&n&&(D=(H=t.getFirstKey)===null||H===void 0?void 0:H.call(t,e.focusedKey)),D!=null&&(h.preventDefault(),u(D))}break;case"ArrowUp":if(t.getKeyAbove){var W,G,X;let D=e.focusedKey!=null?(W=t.getKeyAbove)===null||W===void 0?void 0:W.call(t,e.focusedKey):(G=t.getLastKey)===null||G===void 0?void 0:G.call(t);D==null&&n&&(D=(X=t.getLastKey)===null||X===void 0?void 0:X.call(t,e.focusedKey)),D!=null&&(h.preventDefault(),u(D))}break;case"ArrowLeft":if(t.getKeyLeftOf){var ie,re,pe;let D=e.focusedKey!=null?(ie=t.getKeyLeftOf)===null||ie===void 0?void 0:ie.call(t,e.focusedKey):null;D==null&&n&&(D=b==="rtl"?(re=t.getFirstKey)===null||re===void 0?void 0:re.call(t,e.focusedKey):(pe=t.getLastKey)===null||pe===void 0?void 0:pe.call(t,e.focusedKey)),D!=null&&(h.preventDefault(),u(D,b==="rtl"?"first":"last"))}break;case"ArrowRight":if(t.getKeyRightOf){var he,ve,ge;let D=e.focusedKey!=null?(he=t.getKeyRightOf)===null||he===void 0?void 0:he.call(t,e.focusedKey):null;D==null&&n&&(D=b==="rtl"?(ve=t.getLastKey)===null||ve===void 0?void 0:ve.call(t,e.focusedKey):(ge=t.getFirstKey)===null||ge===void 0?void 0:ge.call(t,e.focusedKey)),D!=null&&(h.preventDefault(),u(D,b==="rtl"?"last":"first"))}break;case"Home":if(t.getFirstKey){if(e.focusedKey===null&&h.shiftKey)return;h.preventDefault();let D=t.getFirstKey(e.focusedKey,_(h));e.setFocusedKey(D),D!=null&&(_(h)&&h.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(D):c&&e.replaceSelection(D))}break;case"End":if(t.getLastKey){if(e.focusedKey===null&&h.shiftKey)return;h.preventDefault();let D=t.getLastKey(e.focusedKey,_(h));e.setFocusedKey(D),D!=null&&(_(h)&&h.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(D):c&&e.replaceSelection(D))}break;case"PageDown":if(t.getKeyPageBelow&&e.focusedKey!=null){let D=t.getKeyPageBelow(e.focusedKey);D!=null&&(h.preventDefault(),u(D))}break;case"PageUp":if(t.getKeyPageAbove&&e.focusedKey!=null){let D=t.getKeyPageAbove(e.focusedKey);D!=null&&(h.preventDefault(),u(D))}break;case"a":_(h)&&e.selectionMode==="multiple"&&s!==!0&&(h.preventDefault(),e.selectAll());break;case"Escape":a==="clearSelection"&&!r&&e.selectedKeys.size!==0&&(h.stopPropagation(),h.preventDefault(),e.clearSelection());break;case"Tab":if(!v){if(h.shiftKey)l.current.focus();else{let D=fl(l.current,{tabbable:!0}),Z,J;do J=D.lastChild(),J&&(Z=J);while(J);Z&&!Z.contains(document.activeElement)&&ne(Z)}break}}},K=m.useRef({top:0,left:0});se(y,"scroll",d?void 0:()=>{var h,P,u,k;K.current={top:(u=(h=y.current)===null||h===void 0?void 0:h.scrollTop)!==null&&u!==void 0?u:0,left:(k=(P=y.current)===null||P===void 0?void 0:P.scrollLeft)!==null&&k!==void 0?k:0}});let F=h=>{if(e.isFocused){h.currentTarget.contains(h.target)||e.setFocused(!1);return}if(h.currentTarget.contains(h.target)){if(e.setFocused(!0),e.focusedKey==null){var P,u;let H=G=>{G!=null&&(e.setFocusedKey(G),c&&!e.isSelected(G)&&e.replaceSelection(G))},W=h.relatedTarget;var k,O;W&&h.currentTarget.compareDocumentPosition(W)&Node.DOCUMENT_POSITION_FOLLOWING?H((k=e.lastSelectedKey)!==null&&k!==void 0?k:(P=t.getLastKey)===null||P===void 0?void 0:P.call(t)):H((O=e.firstSelectedKey)!==null&&O!==void 0?O:(u=t.getFirstKey)===null||u===void 0?void 0:u.call(t))}else!d&&y.current&&(y.current.scrollTop=K.current.top,y.current.scrollLeft=K.current.left);if(e.focusedKey!=null&&y.current){let H=ue(l,e.focusedKey);H instanceof HTMLElement&&(!H.contains(document.activeElement)&&!f&&ne(H),Re()==="keyboard"&&He(H,{containingElement:l.current}))}}},C=h=>{h.currentTarget.contains(h.relatedTarget)||e.setFocused(!1)},x=m.useRef(!1);se(l,Rl,f?h=>{let{detail:P}=h;h.stopPropagation(),e.setFocused(!0),(P==null?void 0:P.focusStrategy)==="first"&&(x.current=!0)}:void 0);let A=Ke(()=>{var h,P;let u=(P=(h=t.getFirstKey)===null||h===void 0?void 0:h.call(t))!==null&&P!==void 0?P:null;u==null?(yt(l.current),e.collection.size>0&&(x.current=!1)):(e.setFocusedKey(u),x.current=!1)});Le(()=>{x.current&&A()},[e.collection,A]);let w=Ke(()=>{e.collection.size>0&&(x.current=!1)});Le(()=>{w()},[e.focusedKey,w]),se(l,Bl,f?h=>{var P;h.stopPropagation(),e.setFocused(!1),!((P=h.detail)===null||P===void 0)&&P.clearFocusKey&&e.setFocusedKey(null)}:void 0);const B=m.useRef(o),E=m.useRef(!1);m.useEffect(()=>{if(B.current){var h,P;let O=null;var u;o==="first"&&(O=(u=(h=t.getFirstKey)===null||h===void 0?void 0:h.call(t))!==null&&u!==void 0?u:null);var k;o==="last"&&(O=(k=(P=t.getLastKey)===null||P===void 0?void 0:P.call(t))!==null&&k!==void 0?k:null);let H=e.selectedKeys;if(H.size){for(let W of H)if(e.canSelectItem(W)){O=W;break}}e.setFocused(!0),e.setFocusedKey(O),O==null&&!f&&l.current&&Se(l.current),e.collection.size>0&&(B.current=!1,E.current=!0)}});let M=m.useRef(e.focusedKey);m.useEffect(()=>{if(e.isFocused&&e.focusedKey!=null&&(e.focusedKey!==M.current||E.current)&&y.current&&l.current){let h=Re(),P=ue(l,e.focusedKey);if(!(P instanceof HTMLElement))return;(h==="keyboard"||E.current)&&(pt(y.current,P),h!=="virtual"&&He(P,{containingElement:l.current}))}!f&&e.isFocused&&e.focusedKey==null&&M.current!=null&&l.current&&Se(l.current),M.current=e.focusedKey,E.current=!1}),se(l,"react-aria-focus-scope-restore",h=>{h.preventDefault(),e.setFocused(!0)});let R={onKeyDown:$,onFocus:F,onBlur:C,onMouseDown(h){y.current===h.target&&h.preventDefault()}},{typeSelectProps:I}=xt({keyboardDelegate:t,selectionManager:e});p||(R=q(I,R));let L;f||(L=e.focusedKey==null?0:-1);let U=hi(e.collection);return{collectionProps:q(R,{tabIndex:L,"data-collection":U})}}function $i(i){let{id:e,selectionManager:t,key:l,ref:o,shouldSelectOnPressUp:n,shouldUseVirtualFocus:r,focus:s,isDisabled:a,onAction:c,allowsDifferentPressOrigin:p,linkBehavior:f="action"}=i,v=dt();e=le(e);let d=u=>{if(u.pointerType==="keyboard"&&Fe(u))t.toggleSelection(l);else{if(t.selectionMode==="none")return;if(t.isLink(l)){if(f==="selection"&&o.current){let k=t.getItemProps(l);v.open(o.current,u,k.href,k.routerOptions),t.setSelectedKeys(t.selectedKeys);return}else if(f==="override"||f==="none")return}t.selectionMode==="single"?t.isSelected(l)&&!t.disallowEmptySelection?t.toggleSelection(l):t.replaceSelection(l):u&&u.shiftKey?t.extendSelection(l):t.selectionBehavior==="toggle"||u&&(_(u)||u.pointerType==="touch"||u.pointerType==="virtual")?t.toggleSelection(l):t.replaceSelection(l)}};m.useEffect(()=>{l===t.focusedKey&&t.isFocused&&(r?yt(o.current):s?s():document.activeElement!==o.current&&o.current&&Se(o.current))},[o,l,t.focusedKey,t.childFocusStrategy,t.isFocused,r]),a=a||t.isDisabled(l);let y={};!r&&!a?y={tabIndex:l===t.focusedKey?0:-1,onFocus(u){u.target===o.current&&t.setFocusedKey(l)}}:a&&(y.onMouseDown=u=>{u.preventDefault()});let S=t.isLink(l)&&f==="override",b=t.isLink(l)&&f!=="selection"&&f!=="none",g=!a&&t.canSelectItem(l)&&!S,$=(c||b)&&!a,K=$&&(t.selectionBehavior==="replace"?!g:!g||t.isEmpty),F=$&&g&&t.selectionBehavior==="replace",C=K||F,x=m.useRef(null),A=C&&g,w=m.useRef(!1),B=m.useRef(!1),E=u=>{if(c&&c(),b&&o.current){let k=t.getItemProps(l);v.open(o.current,u,k.href,k.routerOptions)}},M={ref:o};n?(M.onPressStart=u=>{x.current=u.pointerType,w.current=A,u.pointerType==="keyboard"&&(!C||_e())&&d(u)},p?(M.onPressUp=K?void 0:u=>{u.pointerType==="mouse"&&g&&d(u)},M.onPress=K?E:u=>{u.pointerType!=="keyboard"&&u.pointerType!=="mouse"&&g&&d(u)}):M.onPress=u=>{if(K||F&&u.pointerType!=="mouse"){if(u.pointerType==="keyboard"&&!Qe())return;E(u)}else u.pointerType!=="keyboard"&&g&&d(u)}):(M.onPressStart=u=>{x.current=u.pointerType,w.current=A,B.current=K,g&&(u.pointerType==="mouse"&&!K||u.pointerType==="keyboard"&&(!$||_e()))&&d(u)},M.onPress=u=>{(u.pointerType==="touch"||u.pointerType==="pen"||u.pointerType==="virtual"||u.pointerType==="keyboard"&&C&&Qe()||u.pointerType==="mouse"&&B.current)&&(C?E(u):g&&d(u))}),y["data-collection"]=vi(t.collection),y["data-key"]=l,M.preventFocusOnPress=r,r&&(M=q(M,{onPressStart(u){u.pointerType!=="touch"&&(t.setFocused(!0),t.setFocusedKey(l))},onPress(u){u.pointerType==="touch"&&(t.setFocused(!0),t.setFocusedKey(l))}}));let{pressProps:R,isPressed:I}=st(M),L=F?u=>{x.current==="mouse"&&(u.stopPropagation(),u.preventDefault(),E(u))}:void 0,{longPressProps:U}=ht({isDisabled:!A,onLongPress(u){u.pointerType==="touch"&&(d(u),t.setSelectionBehavior("toggle"))}}),h=u=>{x.current==="touch"&&w.current&&u.preventDefault()},P=t.isLink(l)?u=>{pl.isOpening||u.preventDefault()}:void 0;return{itemProps:q(y,g||K||r?R:{},A?U:{},{onDoubleClick:L,onDragStartCapture:h,onClick:P,id:e},r?{onMouseDown:u=>u.preventDefault()}:void 0),isPressed:I,isSelected:t.isSelected(l),isFocused:t.isFocused&&t.focusedKey===l,isDisabled:a,allowsSelection:g,hasAction:C}}function Qe(){let i=window.event;return(i==null?void 0:i.key)==="Enter"}function _e(){let i=window.event;return(i==null?void 0:i.key)===" "||(i==null?void 0:i.code)==="Space"}class et{getItemRect(e){let t=this.ref.current;if(!t)return null;let l=e!=null?ue(this.ref,e):null;if(!l)return null;let o=t.getBoundingClientRect(),n=l.getBoundingClientRect();return{x:n.left-o.left+t.scrollLeft,y:n.top-o.top+t.scrollTop,width:n.width,height:n.height}}getContentSize(){let e=this.ref.current;var t,l;return{width:(t=e==null?void 0:e.scrollWidth)!==null&&t!==void 0?t:0,height:(l=e==null?void 0:e.scrollHeight)!==null&&l!==void 0?l:0}}getVisibleRect(){let e=this.ref.current;var t,l,o,n;return{x:(t=e==null?void 0:e.scrollLeft)!==null&&t!==void 0?t:0,y:(l=e==null?void 0:e.scrollTop)!==null&&l!==void 0?l:0,width:(o=e==null?void 0:e.offsetWidth)!==null&&o!==void 0?o:0,height:(n=e==null?void 0:e.offsetHeight)!==null&&n!==void 0?n:0}}constructor(e){this.ref=e}}class Kt{isDisabled(e){var t;return this.disabledBehavior==="all"&&(((t=e.props)===null||t===void 0?void 0:t.isDisabled)||this.disabledKeys.has(e.key))}findNextNonDisabled(e,t){let l=e;for(;l!=null;){let o=this.collection.getItem(l);if((o==null?void 0:o.type)==="item"&&!this.isDisabled(o))return l;l=t(l)}return null}getNextKey(e){let t=e;return t=this.collection.getKeyAfter(t),this.findNextNonDisabled(t,l=>this.collection.getKeyAfter(l))}getPreviousKey(e){let t=e;return t=this.collection.getKeyBefore(t),this.findNextNonDisabled(t,l=>this.collection.getKeyBefore(l))}findKey(e,t,l){let o=e,n=this.layoutDelegate.getItemRect(o);if(!n||o==null)return null;let r=n;do{if(o=t(o),o==null)break;n=this.layoutDelegate.getItemRect(o)}while(n&&l(r,n)&&o!=null);return o}isSameRow(e,t){return e.y===t.y||e.x!==t.x}isSameColumn(e,t){return e.x===t.x||e.y!==t.y}getKeyBelow(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getNextKey(t),this.isSameRow):this.getNextKey(e)}getKeyAbove(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getPreviousKey(t),this.isSameRow):this.getPreviousKey(e)}getNextColumn(e,t){return t?this.getPreviousKey(e):this.getNextKey(e)}getKeyRightOf(e){let t=this.direction==="ltr"?"getKeyRightOf":"getKeyLeftOf";return this.layoutDelegate[t]?(e=this.layoutDelegate[t](e),this.findNextNonDisabled(e,l=>this.layoutDelegate[t](l))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="rtl"):this.findKey(e,l=>this.getNextColumn(l,this.direction==="rtl"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="rtl"):null}getKeyLeftOf(e){let t=this.direction==="ltr"?"getKeyLeftOf":"getKeyRightOf";return this.layoutDelegate[t]?(e=this.layoutDelegate[t](e),this.findNextNonDisabled(e,l=>this.layoutDelegate[t](l))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="ltr"):this.findKey(e,l=>this.getNextColumn(l,this.direction==="ltr"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="ltr"):null}getFirstKey(){let e=this.collection.getFirstKey();return this.findNextNonDisabled(e,t=>this.collection.getKeyAfter(t))}getLastKey(){let e=this.collection.getLastKey();return this.findNextNonDisabled(e,t=>this.collection.getKeyBefore(t))}getKeyPageAbove(e){let t=this.ref.current,l=this.layoutDelegate.getItemRect(e);if(!l)return null;if(t&&!Pe(t))return this.getFirstKey();let o=e;if(this.orientation==="horizontal"){let n=Math.max(0,l.x+l.width-this.layoutDelegate.getVisibleRect().width);for(;l&&l.x>n&&o!=null;)o=this.getKeyAbove(o),l=o==null?null:this.layoutDelegate.getItemRect(o)}else{let n=Math.max(0,l.y+l.height-this.layoutDelegate.getVisibleRect().height);for(;l&&l.y>n&&o!=null;)o=this.getKeyAbove(o),l=o==null?null:this.layoutDelegate.getItemRect(o)}return o??this.getFirstKey()}getKeyPageBelow(e){let t=this.ref.current,l=this.layoutDelegate.getItemRect(e);if(!l)return null;if(t&&!Pe(t))return this.getLastKey();let o=e;if(this.orientation==="horizontal"){let n=Math.min(this.layoutDelegate.getContentSize().width,l.y-l.width+this.layoutDelegate.getVisibleRect().width);for(;l&&l.x<n&&o!=null;)o=this.getKeyBelow(o),l=o==null?null:this.layoutDelegate.getItemRect(o)}else{let n=Math.min(this.layoutDelegate.getContentSize().height,l.y-l.height+this.layoutDelegate.getVisibleRect().height);for(;l&&l.y<n&&o!=null;)o=this.getKeyBelow(o),l=o==null?null:this.layoutDelegate.getItemRect(o)}return o??this.getLastKey()}getKeyForSearch(e,t){if(!this.collator)return null;let l=this.collection,o=t||this.getFirstKey();for(;o!=null;){let n=l.getItem(o);if(!n)return null;let r=n.textValue.slice(0,e.length);if(n.textValue&&this.collator.compare(r,e)===0)return o;o=this.getNextKey(o)}return null}constructor(...e){if(e.length===1){let t=e[0];this.collection=t.collection,this.ref=t.ref,this.collator=t.collator,this.disabledKeys=t.disabledKeys||new Set,this.disabledBehavior=t.disabledBehavior||"all",this.orientation=t.orientation||"vertical",this.direction=t.direction,this.layout=t.layout||"stack",this.layoutDelegate=t.layoutDelegate||new et(t.ref)}else this.collection=e[0],this.disabledKeys=e[1],this.ref=e[2],this.collator=e[3],this.layout="stack",this.orientation="vertical",this.disabledBehavior="all",this.layoutDelegate=new et(this.ref);this.layout==="stack"&&this.orientation==="vertical"&&(this.getKeyLeftOf=void 0,this.getKeyRightOf=void 0)}}function mi(i){let{selectionManager:e,collection:t,disabledKeys:l,ref:o,keyboardDelegate:n,layoutDelegate:r}=i,s=gt({usage:"search",sensitivity:"base"}),a=e.disabledBehavior,c=m.useMemo(()=>n||new Kt({collection:t,disabledKeys:l,disabledBehavior:a,ref:o,collator:s,layoutDelegate:r}),[n,r,t,l,o,s,a]),{collectionProps:p}=bi({...i,ref:o,selectionManager:e,keyboardDelegate:c});return{listProps:p}}function xi(i,e,t){let l=Ee(i,{labelable:!0}),o=i.selectionBehavior||"toggle",n=i.linkBehavior||(o==="replace"?"action":"override");o==="toggle"&&n==="action"&&(n="override");let{listProps:r}=mi({...i,ref:t,selectionManager:e.selectionManager,collection:e.collection,disabledKeys:e.disabledKeys,linkBehavior:n}),{focusWithinProps:s}=ut({onFocusWithin:i.onFocus,onBlurWithin:i.onBlur,onFocusWithinChange:i.onFocusChange}),a=le(i.id);Ae.set(e,{id:a,shouldUseVirtualFocus:i.shouldUseVirtualFocus,shouldSelectOnPressUp:i.shouldSelectOnPressUp,shouldFocusOnHover:i.shouldFocusOnHover,isVirtualized:i.isVirtualized,onAction:i.onAction,linkBehavior:n});let{labelProps:c,fieldProps:p}=hl({...i,id:a,labelElementType:"span"});return{labelProps:c,listBoxProps:q(l,s,e.selectionManager.selectionMode==="multiple"?{"aria-multiselectable":"true"}:{},{role:"listbox",...q(p,r)})}}function St(i){return null}St.getCollectionNode=function*(e,t){let{childItems:l,title:o,children:n}=e,r=e.title||e.children,s=e.textValue||(typeof r=="string"?r:"")||e["aria-label"]||"";!s&&(t!=null&&t.suppressTextValueWarning),yield{type:"item",props:e,rendered:r,textValue:s,"aria-label":e["aria-label"],hasChildNodes:Ki(e),*childNodes(){if(l)for(let a of l)yield{type:"item",value:a};else if(o){let a=[];N.Children.forEach(n,c=>{a.push({type:"item",element:c})}),yield*a}}}};function Ki(i){return i.hasChildItems!=null?i.hasChildItems:!!(i.childItems||i.title&&N.Children.count(i.children)>0)}let Si=St;class Pi{build(e,t){return this.context=t,tt(()=>this.iterateCollection(e))}*iterateCollection(e){let{children:t,items:l}=e;if(N.isValidElement(t)&&t.type===N.Fragment)yield*this.iterateCollection({children:t.props.children,items:l});else if(typeof t=="function"){if(!l)throw new Error("props.children was a function but props.items is missing");let o=0;for(let n of l)yield*this.getFullNode({value:n,index:o},{renderer:t}),o++}else{let o=[];N.Children.forEach(t,r=>{r&&o.push(r)});let n=0;for(let r of o){let s=this.getFullNode({element:r,index:n},{});for(let a of s)n++,yield a}}}getKey(e,t,l,o){if(e.key!=null)return e.key;if(t.type==="cell"&&t.key!=null)return`${o}${t.key}`;let n=t.value;if(n!=null){var r;let s=(r=n.key)!==null&&r!==void 0?r:n.id;if(s==null)throw new Error("No key found for item");return s}return o?`${o}.${t.index}`:`$.${t.index}`}getChildState(e,t){return{renderer:t.renderer||e.renderer}}*getFullNode(e,t,l,o){if(N.isValidElement(e.element)&&e.element.type===N.Fragment){let b=[];N.Children.forEach(e.element.props.children,$=>{b.push($)});var n;let g=(n=e.index)!==null&&n!==void 0?n:0;for(const $ of b)yield*this.getFullNode({element:$,index:g++},t,l,o);return}let r=e.element;if(!r&&e.value&&t&&t.renderer){let b=this.cache.get(e.value);if(b&&(!b.shouldInvalidate||!b.shouldInvalidate(this.context))){b.index=e.index,b.parentKey=o?o.key:null,yield b;return}r=t.renderer(e.value)}if(N.isValidElement(r)){let b=r.type;if(typeof b!="function"&&typeof b.getCollectionNode!="function"){let F=r.type;throw new Error(`Unknown element <${F}> in collection.`)}let g=b.getCollectionNode(r.props,this.context);var s;let $=(s=e.index)!==null&&s!==void 0?s:0,K=g.next();for(;!K.done&&K.value;){let F=K.value;e.index=$;var a;let C=(a=F.key)!==null&&a!==void 0?a:null;C==null&&(C=F.element?null:this.getKey(r,e,t,l));let A=[...this.getFullNode({...F,key:C,index:$,wrapper:wi(e.wrapper,F.wrapper)},this.getChildState(t,F),l?`${l}${r.key}`:r.key,o)];for(let w of A){var c,p;w.value=(p=(c=F.value)!==null&&c!==void 0?c:e.value)!==null&&p!==void 0?p:null,w.value&&this.cache.set(w.value,w);var f;if(e.type&&w.type!==e.type)throw new Error(`Unsupported type <${me(w.type)}> in <${me((f=o==null?void 0:o.type)!==null&&f!==void 0?f:"unknown parent type")}>. Only <${me(e.type)}> is supported.`);$++,yield w}K=g.next(A)}return}if(e.key==null||e.type==null)return;let v=this;var d,y;let S={type:e.type,props:e.props,key:e.key,parentKey:o?o.key:null,value:(d=e.value)!==null&&d!==void 0?d:null,level:o?o.level+1:0,index:e.index,rendered:e.rendered,textValue:(y=e.textValue)!==null&&y!==void 0?y:"","aria-label":e["aria-label"],wrapper:e.wrapper,shouldInvalidate:e.shouldInvalidate,hasChildNodes:e.hasChildNodes||!1,childNodes:tt(function*(){if(!e.hasChildNodes||!e.childNodes)return;let b=0;for(let g of e.childNodes()){g.key!=null&&(g.key=`${S.key}${g.key}`);let $=v.getFullNode({...g,index:b},v.getChildState(t,g),S.key,S);for(let K of $)b++,yield K}})};yield S}constructor(){this.cache=new WeakMap}}function tt(i){let e=[],t=null;return{*[Symbol.iterator](){for(let l of e)yield l;t||(t=i());for(let l of t)e.push(l),yield l}}}function wi(i,e){if(i&&e)return t=>i(e(t));if(i)return i;if(e)return e}function me(i){return i[0].toUpperCase()+i.slice(1)}function Di(i,e,t){let l=m.useMemo(()=>new Pi,[]),{children:o,items:n,collection:r}=i;return m.useMemo(()=>{if(r)return r;let a=l.build({children:o,items:n},t);return e(a)},[l,o,n,r,t,e])}function Pt(i,e){return typeof e.getChildren=="function"?e.getChildren(i.key):i.childNodes}function Ci(i){return Fi(i)}function Fi(i,e){for(let t of i)return t}function xe(i,e,t){if(e.parentKey===t.parentKey)return e.index-t.index;let l=[...lt(i,e),e],o=[...lt(i,t),t],n=l.slice(0,o.length).findIndex((r,s)=>r!==o[s]);return n!==-1?(e=l[n],t=o[n],e.index-t.index):l.findIndex(r=>r===t)>=0?1:(o.findIndex(r=>r===e)>=0,-1)}function lt(i,e){let t=[],l=e;for(;(l==null?void 0:l.parentKey)!=null;)l=i.getItem(l.parentKey),l&&t.unshift(l);return t}const it=new WeakMap;function Ei(i){let e=it.get(i);if(e!=null)return e;let t=0,l=o=>{for(let n of o)n.type==="section"?l(Pt(n,i)):t++};return l(i),it.set(i,t),t}function Mi(i,e,t){var l,o;let{key:n}=i,r=Ae.get(e);var s;let a=(s=i.isDisabled)!==null&&s!==void 0?s:e.selectionManager.isDisabled(n);var c;let p=(c=i.isSelected)!==null&&c!==void 0?c:e.selectionManager.isSelected(n);var f;let v=(f=i.shouldSelectOnPressUp)!==null&&f!==void 0?f:r==null?void 0:r.shouldSelectOnPressUp;var d;let y=(d=i.shouldFocusOnHover)!==null&&d!==void 0?d:r==null?void 0:r.shouldFocusOnHover;var S;let b=(S=i.shouldUseVirtualFocus)!==null&&S!==void 0?S:r==null?void 0:r.shouldUseVirtualFocus;var g;let $=(g=i.isVirtualized)!==null&&g!==void 0?g:r==null?void 0:r.isVirtualized,K=Te(),F=Te(),C={role:"option","aria-disabled":a||void 0,"aria-selected":e.selectionManager.selectionMode!=="none"?p:void 0};rt()&&ct()||(C["aria-label"]=i["aria-label"],C["aria-labelledby"]=K,C["aria-describedby"]=F);let x=e.collection.getItem(n);if($){let P=Number(x==null?void 0:x.index);C["aria-posinset"]=Number.isNaN(P)?void 0:P+1,C["aria-setsize"]=Ei(e.collection)}let A=r!=null&&r.onAction?()=>{var P;return r==null||(P=r.onAction)===null||P===void 0?void 0:P.call(r,n)}:void 0,w=pi(e,n),{itemProps:B,isPressed:E,isFocused:M,hasAction:R,allowsSelection:I}=$i({selectionManager:e.selectionManager,key:n,ref:t,shouldSelectOnPressUp:v,allowsDifferentPressOrigin:v&&y,isVirtualized:$,shouldUseVirtualFocus:b,isDisabled:a,onAction:A||!(x==null||(l=x.props)===null||l===void 0)&&l.onAction?ft(x==null||(o=x.props)===null||o===void 0?void 0:o.onAction,A):void 0,linkBehavior:r==null?void 0:r.linkBehavior,id:w}),{hoverProps:L}=Fl({isDisabled:a||!y,onHoverStart(){Ie()||(e.selectionManager.setFocused(!0),e.selectionManager.setFocusedKey(n))}}),U=Ee(x==null?void 0:x.props);delete U.id;let h=vl(x==null?void 0:x.props);return{optionProps:{...C,...q(U,B,L,h),id:w},labelProps:{id:K},descriptionProps:{id:F},isFocused:M,isFocusVisible:M&&e.selectionManager.isFocused&&Ie(),isSelected:p,isDisabled:a,isPressed:E,allowsSelection:I,hasAction:R}}var wt={};wt={longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"};var Dt={};Dt={longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"};var Ct={};Ct={longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"};var Ft={};Ft={longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"};var Et={};Et={longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"};var Mt={};Mt={longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"};var At={};At={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var kt={};kt={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"};var Bt={};Bt={longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"};var Rt={};Rt={longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"};var Tt={};Tt={longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."};var It={};It={longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"};var Lt={};Lt={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var zt={};zt={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"};var Ot={};Ot={longPressMessage:"Premere a lungo o premere Alt + Freccia giù per aprire il menu"};var Ht={};Ht={longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"};var jt={};jt={longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"};var Nt={};Nt={longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."};var Ut={};Ut={longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"};var Wt={};Wt={longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"};var Vt={};Vt={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var qt={};qt={longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"};var Gt={};Gt={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var Yt={};Yt={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var Xt={};Xt={longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"};var Zt={};Zt={longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"};var Jt={};Jt={longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"};var Qt={};Qt={longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"};var _t={};_t={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var el={};el={longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"};var tl={};tl={longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"};var ll={};ll={longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"};var il={};il={longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"};var ol={};ol={longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"};var nl={};nl={"ar-AE":wt,"bg-BG":Dt,"cs-CZ":Ct,"da-DK":Ft,"de-DE":Et,"el-GR":Mt,"en-US":At,"es-ES":kt,"et-EE":Bt,"fi-FI":Rt,"fr-FR":Tt,"he-IL":It,"hr-HR":Lt,"hu-HU":zt,"it-IT":Ot,"ja-JP":Ht,"ko-KR":jt,"lt-LT":Nt,"lv-LV":Ut,"nb-NO":Wt,"nl-NL":Vt,"pl-PL":qt,"pt-BR":Gt,"pt-PT":Yt,"ro-RO":Xt,"ru-RU":Zt,"sk-SK":Jt,"sl-SI":Qt,"sr-SP":_t,"sv-SE":el,"tr-TR":tl,"uk-UA":ll,"zh-CN":il,"zh-TW":ol};function Ai(i){return i&&i.__esModule?i.default:i}function ki(i,e,t){let{type:l="menu",isDisabled:o,trigger:n="press"}=i,r=le(),{triggerProps:s,overlayProps:a}=di({type:l},e,t),c=d=>{if(!o&&!(n==="longPress"&&!d.altKey)&&t&&t.current)switch(d.key){case"Enter":case" ":if(n==="longPress")return;case"ArrowDown":"continuePropagation"in d||d.stopPropagation(),d.preventDefault(),e.toggle("first");break;case"ArrowUp":"continuePropagation"in d||d.stopPropagation(),d.preventDefault(),e.toggle("last");break;default:"continuePropagation"in d&&d.continuePropagation()}},p=Xl(Ai(nl),"@react-aria/menu"),{longPressProps:f}=ht({isDisabled:o||n!=="longPress",accessibilityDescription:p.format("longPressMessage"),onLongPressStart(){e.close()},onLongPress(){e.open("first")}}),v={preventFocusOnPress:!0,onPressStart(d){d.pointerType!=="touch"&&d.pointerType!=="keyboard"&&!o&&(ne(d.target),e.open(d.pointerType==="virtual"?"first":null))},onPress(d){d.pointerType==="touch"&&!o&&(ne(d.target),e.toggle())}};return delete s.onPress,{menuTriggerProps:{...s,...n==="press"?v:f,id:r,onKeyDown:c},menuProps:{...a,"aria-labelledby":r,autoFocus:e.focusStrategy||!0,onClose:e.close}}}const rl=new WeakMap;function Bi(i,e,t){let{keyboardDelegate:l,isDisabled:o,isRequired:n,name:r,validationBehavior:s="aria"}=i,a=gt({usage:"search",sensitivity:"base"}),c=m.useMemo(()=>l||new Kt(e.collection,e.disabledKeys,t,a),[l,e.collection,e.disabledKeys,a,t]),{menuTriggerProps:p,menuProps:f}=ki({isDisabled:o,type:"listbox"},e,t),v=w=>{switch(w.key){case"ArrowLeft":{var B,E;w.preventDefault();let I=e.selectedKey!=null?(B=c.getKeyAbove)===null||B===void 0?void 0:B.call(c,e.selectedKey):(E=c.getFirstKey)===null||E===void 0?void 0:E.call(c);I&&e.setSelectedKey(I);break}case"ArrowRight":{var M,R;w.preventDefault();let I=e.selectedKey!=null?(M=c.getKeyBelow)===null||M===void 0?void 0:M.call(c,e.selectedKey):(R=c.getFirstKey)===null||R===void 0?void 0:R.call(c);I&&e.setSelectedKey(I);break}}},{typeSelectProps:d}=xt({keyboardDelegate:c,selectionManager:e.selectionManager,onTypeSelect(w){e.setSelectedKey(w)}}),{isInvalid:y,validationErrors:S,validationDetails:b}=e.displayValidation,{labelProps:g,fieldProps:$,descriptionProps:K,errorMessageProps:F}=gl({...i,labelElementType:"span",isInvalid:y,errorMessage:i.errorMessage||S});d.onKeyDown=d.onKeyDownCapture,delete d.onKeyDownCapture;let C=Ee(i,{labelable:!0}),x=q(d,p,$),A=le();return rl.set(e,{isDisabled:o,isRequired:n,name:r,validationBehavior:s}),{labelProps:{...g,onClick:()=>{if(!i.isDisabled){var w;(w=t.current)===null||w===void 0||w.focus(),yl("keyboard")}}},triggerProps:q(C,{...x,isDisabled:o,onKeyDown:ft(x.onKeyDown,v,i.onKeyDown),onKeyUp:i.onKeyUp,"aria-labelledby":[A,x["aria-labelledby"],x["aria-label"]&&!x["aria-labelledby"]?x.id:null].filter(Boolean).join(" "),onFocus(w){e.isFocused||(i.onFocus&&i.onFocus(w),i.onFocusChange&&i.onFocusChange(!0),e.setFocused(!0))},onBlur(w){e.isOpen||(i.onBlur&&i.onBlur(w),i.onFocusChange&&i.onFocusChange(!1),e.setFocused(!1))}}),valueProps:{id:A},menuProps:{...f,autoFocus:e.focusStrategy||!0,shouldSelectOnPressUp:!0,shouldFocusOnHover:!0,disallowEmptySelection:!0,linkBehavior:"selection",onBlur:w=>{w.currentTarget.contains(w.relatedTarget)||(i.onBlur&&i.onBlur(w),i.onFocusChange&&i.onFocusChange(!1),e.setFocused(!1))},"aria-labelledby":[$["aria-labelledby"],x["aria-label"]&&!$["aria-labelledby"]?x.id:null].filter(Boolean).join(" ")},descriptionProps:K,errorMessageProps:F,isInvalid:y,validationErrors:S,validationDetails:b}}function Ri(i,e,t){let l=rl.get(e)||{},{autoComplete:o,name:n=l.name,isDisabled:r=l.isDisabled}=i,{validationBehavior:s,isRequired:a}=l,{visuallyHiddenProps:c}=_l();bl(i.selectRef,e.selectedKey,e.setSelectedKey),$l({validationBehavior:s,focus:()=>{var f;return(f=t.current)===null||f===void 0?void 0:f.focus()}},e,i.selectRef);var p;return{containerProps:{...c,"aria-hidden":!0,"data-react-aria-prevent-focus":!0,"data-a11y-ignore":"aria-hidden-focus"},inputProps:{style:{display:"none"}},selectProps:{tabIndex:-1,autoComplete:o,disabled:r,required:s==="native"&&a,name:n,value:(p=e.selectedKey)!==null&&p!==void 0?p:void 0,onChange:f=>e.setSelectedKey(f.target.value)}}}function Ti(i){let{state:e,triggerRef:t,label:l,name:o,isDisabled:n}=i,r=m.useRef(null),{containerProps:s,selectProps:a}=Ri({...i,selectRef:r},e,t);var c;return e.collection.size<=300?N.createElement("div",{...s,"data-testid":"hidden-select-container"},N.createElement("label",null,l,N.createElement("select",{...a,ref:r},N.createElement("option",null),[...e.collection.getKeys()].map(p=>{let f=e.collection.getItem(p);if(f&&f.type==="item")return N.createElement("option",{key:f.key,value:f.key},f.textValue)})))):o?N.createElement("input",{type:"hidden",autoComplete:a.autoComplete,name:o,disabled:n,value:(c=e.selectedKey)!==null&&c!==void 0?c:""}):null}class ot{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let t=this.keyMap.get(e);var l;return t&&(l=t.prevKey)!==null&&l!==void 0?l:null}getKeyAfter(e){let t=this.keyMap.get(e);var l;return t&&(l=t.nextKey)!==null&&l!==void 0?l:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){var t;return(t=this.keyMap.get(e))!==null&&t!==void 0?t:null}at(e){const t=[...this.getKeys()];return this.getItem(t[e])}getChildren(e){let t=this.keyMap.get(e);return(t==null?void 0:t.childNodes)||[]}constructor(e){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=e;let t=r=>{if(this.keyMap.set(r.key,r),r.childNodes&&r.type==="section")for(let s of r.childNodes)t(s)};for(let r of e)t(r);let l=null,o=0;for(let[r,s]of this.keyMap)l?(l.nextKey=r,s.prevKey=l.key):(this.firstKey=r,s.prevKey=void 0),s.type==="item"&&(s.index=o++),l=s,l.nextKey=void 0;var n;this.lastKey=(n=l==null?void 0:l.key)!==null&&n!==void 0?n:null}}class V extends Set{constructor(e,t,l){super(e),e instanceof V?(this.anchorKey=t??e.anchorKey,this.currentKey=l??e.currentKey):(this.anchorKey=t??null,this.currentKey=l??null)}}function Ii(i,e){if(i.size!==e.size)return!1;for(let t of i)if(!e.has(t))return!1;return!0}function Li(i){let{selectionMode:e="none",disallowEmptySelection:t=!1,allowDuplicateSelectionEvents:l,selectionBehavior:o="toggle",disabledBehavior:n="all"}=i,r=m.useRef(!1),[,s]=m.useState(!1),a=m.useRef(null),c=m.useRef(null),[,p]=m.useState(null),f=m.useMemo(()=>nt(i.selectedKeys),[i.selectedKeys]),v=m.useMemo(()=>nt(i.defaultSelectedKeys,new V),[i.defaultSelectedKeys]),[d,y]=Me(f,v,i.onSelectionChange),S=m.useMemo(()=>i.disabledKeys?new Set(i.disabledKeys):new Set,[i.disabledKeys]),[b,g]=m.useState(o);o==="replace"&&b==="toggle"&&typeof d=="object"&&d.size===0&&g("replace");let $=m.useRef(o);return m.useEffect(()=>{o!==$.current&&(g(o),$.current=o)},[o]),{selectionMode:e,disallowEmptySelection:t,selectionBehavior:b,setSelectionBehavior:g,get isFocused(){return r.current},setFocused(K){r.current=K,s(K)},get focusedKey(){return a.current},get childFocusStrategy(){return c.current},setFocusedKey(K,F="first"){a.current=K,c.current=F,p(K)},selectedKeys:d,setSelectedKeys(K){(l||!Ii(K,d))&&y(K)},disabledKeys:S,disabledBehavior:n}}function nt(i,e){return i?i==="all"?"all":new V(i):e}class ke{get selectionMode(){return this.state.selectionMode}get disallowEmptySelection(){return this.state.disallowEmptySelection}get selectionBehavior(){return this.state.selectionBehavior}setSelectionBehavior(e){this.state.setSelectionBehavior(e)}get isFocused(){return this.state.isFocused}setFocused(e){this.state.setFocused(e)}get focusedKey(){return this.state.focusedKey}get childFocusStrategy(){return this.state.childFocusStrategy}setFocusedKey(e,t){(e==null||this.collection.getItem(e))&&this.state.setFocusedKey(e,t)}get selectedKeys(){return this.state.selectedKeys==="all"?new Set(this.getSelectAllKeys()):this.state.selectedKeys}get rawSelection(){return this.state.selectedKeys}isSelected(e){if(this.state.selectionMode==="none")return!1;let t=this.getKey(e);return t==null?!1:this.state.selectedKeys==="all"?this.canSelectItem(t):this.state.selectedKeys.has(t)}get isEmpty(){return this.state.selectedKeys!=="all"&&this.state.selectedKeys.size===0}get isSelectAll(){if(this.isEmpty)return!1;if(this.state.selectedKeys==="all")return!0;if(this._isSelectAll!=null)return this._isSelectAll;let e=this.getSelectAllKeys(),t=this.state.selectedKeys;return this._isSelectAll=e.every(l=>t.has(l)),this._isSelectAll}get firstSelectedKey(){let e=null;for(let l of this.state.selectedKeys){let o=this.collection.getItem(l);(!e||o&&xe(this.collection,o,e)<0)&&(e=o)}var t;return(t=e==null?void 0:e.key)!==null&&t!==void 0?t:null}get lastSelectedKey(){let e=null;for(let l of this.state.selectedKeys){let o=this.collection.getItem(l);(!e||o&&xe(this.collection,o,e)>0)&&(e=o)}var t;return(t=e==null?void 0:e.key)!==null&&t!==void 0?t:null}get disabledKeys(){return this.state.disabledKeys}get disabledBehavior(){return this.state.disabledBehavior}extendSelection(e){if(this.selectionMode==="none")return;if(this.selectionMode==="single"){this.replaceSelection(e);return}let t=this.getKey(e);if(t==null)return;let l;if(this.state.selectedKeys==="all")l=new V([t],t,t);else{let r=this.state.selectedKeys;var o;let s=(o=r.anchorKey)!==null&&o!==void 0?o:t;l=new V(r,s,t);var n;for(let a of this.getKeyRange(s,(n=r.currentKey)!==null&&n!==void 0?n:t))l.delete(a);for(let a of this.getKeyRange(t,s))this.canSelectItem(a)&&l.add(a)}this.state.setSelectedKeys(l)}getKeyRange(e,t){let l=this.collection.getItem(e),o=this.collection.getItem(t);return l&&o?xe(this.collection,l,o)<=0?this.getKeyRangeInternal(e,t):this.getKeyRangeInternal(t,e):[]}getKeyRangeInternal(e,t){var l;if(!((l=this.layoutDelegate)===null||l===void 0)&&l.getKeyRange)return this.layoutDelegate.getKeyRange(e,t);let o=[],n=e;for(;n!=null;){let r=this.collection.getItem(n);if(r&&(r.type==="item"||r.type==="cell"&&this.allowsCellSelection)&&o.push(n),n===t)return o;n=this.collection.getKeyAfter(n)}return[]}getKey(e){let t=this.collection.getItem(e);if(!t||t.type==="cell"&&this.allowsCellSelection)return e;for(;t&&t.type!=="item"&&t.parentKey!=null;)t=this.collection.getItem(t.parentKey);return!t||t.type!=="item"?null:t.key}toggleSelection(e){if(this.selectionMode==="none")return;if(this.selectionMode==="single"&&!this.isSelected(e)){this.replaceSelection(e);return}let t=this.getKey(e);if(t==null)return;let l=new V(this.state.selectedKeys==="all"?this.getSelectAllKeys():this.state.selectedKeys);l.has(t)?l.delete(t):this.canSelectItem(t)&&(l.add(t),l.anchorKey=t,l.currentKey=t),!(this.disallowEmptySelection&&l.size===0)&&this.state.setSelectedKeys(l)}replaceSelection(e){if(this.selectionMode==="none")return;let t=this.getKey(e);if(t==null)return;let l=this.canSelectItem(t)?new V([t],t,t):new V;this.state.setSelectedKeys(l)}setSelectedKeys(e){if(this.selectionMode==="none")return;let t=new V;for(let l of e){let o=this.getKey(l);if(o!=null&&(t.add(o),this.selectionMode==="single"))break}this.state.setSelectedKeys(t)}getSelectAllKeys(){let e=[],t=l=>{for(;l!=null;){if(this.canSelectItem(l)){var o;let r=this.collection.getItem(l);(r==null?void 0:r.type)==="item"&&e.push(l);var n;r!=null&&r.hasChildNodes&&(this.allowsCellSelection||r.type!=="item")&&t((n=(o=Ci(Pt(r,this.collection)))===null||o===void 0?void 0:o.key)!==null&&n!==void 0?n:null)}l=this.collection.getKeyAfter(l)}};return t(this.collection.getFirstKey()),e}selectAll(){!this.isSelectAll&&this.selectionMode==="multiple"&&this.state.setSelectedKeys("all")}clearSelection(){!this.disallowEmptySelection&&(this.state.selectedKeys==="all"||this.state.selectedKeys.size>0)&&this.state.setSelectedKeys(new V)}toggleSelectAll(){this.isSelectAll?this.clearSelection():this.selectAll()}select(e,t){this.selectionMode!=="none"&&(this.selectionMode==="single"?this.isSelected(e)&&!this.disallowEmptySelection?this.toggleSelection(e):this.replaceSelection(e):this.selectionBehavior==="toggle"||t&&(t.pointerType==="touch"||t.pointerType==="virtual")?this.toggleSelection(e):this.replaceSelection(e))}isSelectionEqual(e){if(e===this.state.selectedKeys)return!0;let t=this.selectedKeys;if(e.size!==t.size)return!1;for(let l of e)if(!t.has(l))return!1;for(let l of t)if(!e.has(l))return!1;return!0}canSelectItem(e){var t;if(this.state.selectionMode==="none"||this.state.disabledKeys.has(e))return!1;let l=this.collection.getItem(e);return!(!l||!(l==null||(t=l.props)===null||t===void 0)&&t.isDisabled||l.type==="cell"&&!this.allowsCellSelection)}isDisabled(e){var t,l;return this.state.disabledBehavior==="all"&&(this.state.disabledKeys.has(e)||!!(!((l=this.collection.getItem(e))===null||l===void 0||(t=l.props)===null||t===void 0)&&t.isDisabled))}isLink(e){var t,l;return!!(!((l=this.collection.getItem(e))===null||l===void 0||(t=l.props)===null||t===void 0)&&t.href)}getItemProps(e){var t;return(t=this.collection.getItem(e))===null||t===void 0?void 0:t.props}withCollection(e){return new ke(e,this.state,{allowsCellSelection:this.allowsCellSelection,layoutDelegate:this.layoutDelegate||void 0})}constructor(e,t,l){this.collection=e,this.state=t;var o;this.allowsCellSelection=(o=l==null?void 0:l.allowsCellSelection)!==null&&o!==void 0?o:!1,this._isSelectAll=null,this.layoutDelegate=(l==null?void 0:l.layoutDelegate)||null}}function zi(i){let{filter:e,layoutDelegate:t}=i,l=Li(i),o=m.useMemo(()=>i.disabledKeys?new Set(i.disabledKeys):new Set,[i.disabledKeys]),n=m.useCallback(c=>e?new ot(e(c)):new ot(c),[e]),r=m.useMemo(()=>({suppressTextValueWarning:i.suppressTextValueWarning}),[i.suppressTextValueWarning]),s=Di(i,n,r),a=m.useMemo(()=>new ke(s,l,{layoutDelegate:t}),[s,l,t]);return Oi(s,a),{collection:s,disabledKeys:o,selectionManager:a}}function Oi(i,e){const t=m.useRef(null);m.useEffect(()=>{if(e.focusedKey!=null&&!i.getItem(e.focusedKey)&&t.current){const p=t.current.getItem(e.focusedKey),f=[...t.current.getKeys()].map(g=>{const $=t.current.getItem(g);return($==null?void 0:$.type)==="item"?$:null}).filter(g=>g!==null),v=[...i.getKeys()].map(g=>{const $=i.getItem(g);return($==null?void 0:$.type)==="item"?$:null}).filter(g=>g!==null);var l,o;const d=((l=f==null?void 0:f.length)!==null&&l!==void 0?l:0)-((o=v==null?void 0:v.length)!==null&&o!==void 0?o:0);var n,r,s;let y=Math.min(d>1?Math.max(((n=p==null?void 0:p.index)!==null&&n!==void 0?n:0)-d+1,0):(r=p==null?void 0:p.index)!==null&&r!==void 0?r:0,((s=v==null?void 0:v.length)!==null&&s!==void 0?s:0)-1),S=null,b=!1;for(;y>=0;){if(!e.isDisabled(v[y].key)){S=v[y];break}if(y<v.length-1&&!b)y++;else{b=!0;var a,c;y>((a=p==null?void 0:p.index)!==null&&a!==void 0?a:0)&&(y=(c=p==null?void 0:p.index)!==null&&c!==void 0?c:0),y--}}e.setFocusedKey(S?S.key:null)}t.current=i},[i,e])}function Hi(i){var e;let[t,l]=Me(i.selectedKey,(e=i.defaultSelectedKey)!==null&&e!==void 0?e:null,i.onSelectionChange),o=m.useMemo(()=>t!=null?[t]:[],[t]),{collection:n,disabledKeys:r,selectionManager:s}=zi({...i,selectionMode:"single",disallowEmptySelection:!0,allowDuplicateSelectionEvents:!0,selectedKeys:o,onSelectionChange:c=>{if(c==="all")return;var p;let f=(p=c.values().next().value)!==null&&p!==void 0?p:null;f===t&&i.onSelectionChange&&i.onSelectionChange(f),l(f)}}),a=t!=null?n.getItem(t):null;return{collection:n,disabledKeys:r,selectionManager:s,selectedKey:t,setSelectedKey:l,selectedItem:a}}function sl(i){let[e,t]=Me(i.isOpen,i.defaultOpen||!1,i.onOpenChange);const l=m.useCallback(()=>{t(!0)},[t]),o=m.useCallback(()=>{t(!1)},[t]),n=m.useCallback(()=>{t(!e)},[t,e]);return{isOpen:e,setOpen:t,open:l,close:o,toggle:n}}function ji(i){let e=sl(i),[t,l]=m.useState(null),o=Hi({...i,onSelectionChange:a=>{i.onSelectionChange!=null&&i.onSelectionChange(a),e.close(),n.commitValidation()}}),n=ml({...i,value:o.selectedKey}),[r,s]=m.useState(!1);return{...n,...o,...e,focusStrategy:t,open(a=null){o.collection.size!==0&&(l(a),e.open())},toggle(a=null){o.collection.size!==0&&(l(a),e.toggle())},isFocused:r,setFocused:s}}const Yi=Si;function Ni({item:i,state:e}){const t=m.useRef(null),{optionProps:l,isSelected:o,isFocused:n,isDisabled:r}=Mi({key:i.key},e,t),s=o?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-300":"text-slate-900 dark:text-white",a=n?"bg-slate-100 dark:bg-slate-700":"",c=r?"opacity-50 cursor-not-allowed":"cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700";return j.jsx("li",{...l,ref:t,className:`px-4 py-2 text-sm outline-none ${s} ${a} ${c}`,children:i.rendered})}function Ui(i){const{state:e}=i,t=m.useRef(null),{listBoxProps:l}=xi(i,e,t);return j.jsx(Dl,{...l,ref:t,disablePadding:!0,children:[...e.collection].map(o=>j.jsx(Ni,{item:o,state:e},o.key))})}function Wi(i){const{state:e,triggerRef:t,popoverRef:l,children:o,className:n}=i,{overlayProps:r}=ai({targetRef:t,overlayRef:l,placement:"bottom start",offset:8,isOpen:e.isOpen}),{overlayProps:s}=Sl({isOpen:e.isOpen,onClose:e.close,shouldCloseOnBlur:!0,isDismissable:!0},l);return j.jsx(Pl,{restoreFocus:!0,children:j.jsx(wl,{...q(s,r),ref:l,className:`absolute z-20 w-full mt-1 shadow-lg border border-slate-300 dark:border-slate-600 rounded-md ${n||""}`,sx:{maxHeight:300,overflow:"auto"},children:o})})}function Xi({className:i,buttonClassName:e,popoverClassName:t,error:l,fullWidth:o,...n}){const r={...n,selectedKey:n.selectedKey?String(n.selectedKey):void 0,onSelectionChange:n.onSelectionChange?A=>{var E;const B=typeof n.selectedKey=="number"?Number(A):A;(E=n.onSelectionChange)==null||E.call(n,B)}:void 0},s=ji(r),a=m.useRef(null),c=m.useRef(null),p=sl({isOpen:s.isOpen,onOpenChange:s.setOpen}),{labelProps:f,triggerProps:v,valueProps:d,menuProps:y,descriptionProps:S,errorMessageProps:b}=Bi(r,s,a),{buttonProps:g}=xl(v,a),$=l?"border-red-500":"border-slate-300 dark:border-slate-600",K=n.isDisabled?"opacity-50 cursor-not-allowed":"",F=i||"",C=e||"",x=t||"";return j.jsxs("div",{className:`relative ${o?"w-full":""} ${F}`,children:[n.label&&j.jsx("label",{...f,className:"block text-sm font-medium text-slate-300 mb-1.5",children:n.label}),j.jsx(Ti,{state:s,triggerRef:a,label:n.label,name:n.name,isDisabled:n.isDisabled}),j.jsxs("button",{...g,ref:a,className:`
          relative flex items-center justify-between w-full px-3 py-2 
          bg-white dark:bg-slate-800 
          border ${$} rounded-md 
          text-left text-sm text-slate-900 dark:text-white 
          focus:outline-none focus:ring-2 focus:ring-indigo-500/70
          ${K} ${C}
        `,children:[j.jsx("span",{...d,className:"truncate",children:s.selectedItem?s.selectedItem.rendered:j.jsx("span",{className:"text-slate-500",children:n.placeholder||"Select an option"})}),j.jsx(Kl,{className:`flex-shrink-0 ml-2 transition-transform ${s.isOpen?"rotate-180":""}`,"aria-hidden":"true"})]}),p.isOpen&&j.jsx(Wi,{state:p,triggerRef:a,popoverRef:c,className:x,children:j.jsx(Ui,{...y,state:s})}),n.description&&!n.errorMessage&&j.jsx("p",{...S,className:"text-xs mt-1.5 text-slate-400",children:n.description}),n.errorMessage&&j.jsx("p",{...b,className:"text-xs mt-1.5 text-red-500",children:n.errorMessage})]})}export{Yi as I,Xi as S};
//# sourceMappingURL=Select-C5zUTDie.js.map
